<!DOCTYPE html>
<html><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">

    <title>Pronto</title>
    <link rel="shortcut icon" type="image/x-icon" href="http://ibs-timf-ux1:8888/static/base/images/favicon.ico?v=30780f272ab4aac64aa073a841546240">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="stylesheet" href="Pronto.ipynb_files/jquery-ui.css" type="text/css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    


<script type="text/javascript" src="Pronto.ipynb_files/MathJax.js" charset="utf-8"></script>

<script type="text/javascript">
// MathJax disabled, set as null to distingish from *missing* MathJax,
// where it will be undefined, and should prompt a dialog later.
window.mathjax_url = "/static/components/MathJax/MathJax.js";
</script>

<link rel="stylesheet" href="Pronto.ipynb_files/bootstrap-tour.css" type="text/css">
<link rel="stylesheet" href="Pronto.ipynb_files/codemirror.css">


    <link rel="stylesheet" href="Pronto.ipynb_files/style.css" type="text/css">
    

<link rel="stylesheet" href="Pronto.ipynb_files/override.css" type="text/css">
<link rel="stylesheet" href="" id="kernel-css" type="text/css">


    <link rel="stylesheet" href="Pronto.ipynb_files/custom.css" type="text/css">
    <script src="Pronto.ipynb_files/promise.js" type="text/javascript" charset="utf-8"></script>
    <script src="Pronto.ipynb_files/require.js" type="text/javascript" charset="utf-8"></script>
    <script>
      require.config({
          
          urlArgs: "v=20151109123947",
          
          baseUrl: '/static/',
          paths: {
            'auth/js/main': 'auth/js/main.min',
            custom : '/custom',
            nbextensions : '/nbextensions',
            widgets : '/deprecatedwidgets',
            kernelspecs : '/kernelspecs',
            underscore : 'components/underscore/underscore-min',
            backbone : 'components/backbone/backbone-min',
            jquery: 'components/jquery/jquery.min',
            bootstrap: 'components/bootstrap/js/bootstrap.min',
            bootstraptour: 'components/bootstrap-tour/build/js/bootstrap-tour.min',
            jqueryui: 'components/jquery-ui/ui/minified/jquery-ui.min',
            moment: 'components/moment/moment',
            codemirror: 'components/codemirror',
            termjs: 'components/term.js/src/term',
          },
          shim: {
            underscore: {
              exports: '_'
            },
            backbone: {
              deps: ["underscore", "jquery"],
              exports: "Backbone"
            },
            bootstrap: {
              deps: ["jquery"],
              exports: "bootstrap"
            },
            bootstraptour: {
              deps: ["bootstrap"],
              exports: "Tour"
            },
            jqueryui: {
              deps: ["jquery"],
              exports: "$"
            }
          }
      });

      require.config({
          map: {
              '*':{
                'contents': 'services/contents',
              }
          }
      });
    </script>

    
    

<script src="Pronto.ipynb_files/contents.js" data-requiremodule="services/contents" data-requirecontext="_" async="" charset="utf-8" type="text/javascript"></script><script src="Pronto.ipynb_files/custom.js" data-requiremodule="custom/custom" data-requirecontext="_" async="" charset="utf-8" type="text/javascript"></script><script src="Pronto.ipynb_files/extension.js" data-requiremodule="nbextensions/widgets/notebook/js/extension" data-requirecontext="_" async="" charset="utf-8" type="text/javascript"></script><style type="text/css">.MathJax_Hover_Frame {border-radius: .25em; -webkit-border-radius: .25em; -moz-border-radius: .25em; -khtml-border-radius: .25em; box-shadow: 0px 0px 15px #83A; -webkit-box-shadow: 0px 0px 15px #83A; -moz-box-shadow: 0px 0px 15px #83A; -khtml-box-shadow: 0px 0px 15px #83A; border: 1px solid #A6D ! important; display: inline-block; position: absolute}
.MathJax_Hover_Arrow {position: absolute; width: 15px; height: 11px; cursor: pointer}
</style><style type="text/css">#MathJax_About {position: fixed; left: 50%; width: auto; text-align: center; border: 3px outset; padding: 1em 2em; background-color: #DDDDDD; color: black; cursor: default; font-family: message-box; font-size: 120%; font-style: normal; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 15px; -webkit-border-radius: 15px; -moz-border-radius: 15px; -khtml-border-radius: 15px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_Menu {position: absolute; background-color: white; color: black; width: auto; padding: 5px 0px; border: 1px solid #CCCCCC; margin: 0; cursor: default; font: menu; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 5px; -webkit-border-radius: 5px; -moz-border-radius: 5px; -khtml-border-radius: 5px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_MenuItem {padding: 1px 2em; background: transparent}
.MathJax_MenuArrow {position: absolute; right: .5em; color: #666666}
.MathJax_MenuActive .MathJax_MenuArrow {color: white}
.MathJax_MenuArrow.RTL {left: .5em; right: auto}
.MathJax_MenuCheck {position: absolute; left: .7em}
.MathJax_MenuCheck.RTL {right: .7em; left: auto}
.MathJax_MenuRadioCheck {position: absolute; left: .7em}
.MathJax_MenuRadioCheck.RTL {right: .7em; left: auto}
.MathJax_MenuLabel {padding: 1px 2em 3px 1.33em; font-style: italic}
.MathJax_MenuRule {border-top: 1px solid #DDDDDD; margin: 4px 3px}
.MathJax_MenuDisabled {color: GrayText}
.MathJax_MenuActive {background-color: #606872; color: white}
.MathJax_Menu_Close {position: absolute; width: 31px; height: 31px; top: -15px; left: -15px}
</style><style type="text/css">.MathJax_Preview .MJXc-math {color: inherit!important}
</style><style type="text/css">#MathJax_Zoom {position: absolute; background-color: #F0F0F0; overflow: auto; display: block; z-index: 301; padding: .5em; border: 1px solid black; margin: 0; font-weight: normal; font-style: normal; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; box-shadow: 5px 5px 15px #AAAAAA; -webkit-box-shadow: 5px 5px 15px #AAAAAA; -moz-box-shadow: 5px 5px 15px #AAAAAA; -khtml-box-shadow: 5px 5px 15px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_ZoomOverlay {position: absolute; left: 0; top: 0; z-index: 300; display: inline-block; width: 100%; height: 100%; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
#MathJax_ZoomFrame {position: relative; display: inline-block; height: 0; width: 0}
#MathJax_ZoomEventTrap {position: absolute; left: 0; top: 0; z-index: 302; display: inline-block; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
</style><style type="text/css">.MathJax_Preview {color: #888}
#MathJax_Message {position: fixed; left: 1px; bottom: 2px; background-color: #E6E6E6; border: 1px solid #959595; margin: 0px; padding: 2px 8px; z-index: 102; color: black; font-size: 80%; width: auto; white-space: nowrap}
#MathJax_MSIE_Frame {position: absolute; top: 0; left: 0; width: 0px; z-index: 101; border: 0px; margin: 0px; padding: 0px}
.MathJax_Error {color: #CC0000; font-style: italic}
</style><style type="text/css">.MJXc-script {font-size: .8em}
.MJXc-right {-webkit-transform-origin: right; -moz-transform-origin: right; -ms-transform-origin: right; -o-transform-origin: right; transform-origin: right}
.MJXc-bold {font-weight: bold}
.MJXc-italic {font-style: italic}
.MJXc-scr {font-family: MathJax_Script,'Times New Roman',Times,STIXGeneral,serif}
.MJXc-frak {font-family: MathJax_Fraktur,'Times New Roman',Times,STIXGeneral,serif}
.MJXc-sf {font-family: MathJax_SansSerif,'Times New Roman',Times,STIXGeneral,serif}
.MJXc-cal {font-family: MathJax_Caligraphic,'Times New Roman',Times,STIXGeneral,serif}
.MJXc-mono {font-family: MathJax_Typewriter,'Times New Roman',Times,STIXGeneral,serif}
.MJXc-largeop {font-size: 150%}
.MJXc-largeop.MJXc-int {vertical-align: -.2em}
.MJXc-math {display: inline-block; line-height: 1.2; text-indent: 0; font-family: 'Times New Roman',Times,STIXGeneral,serif; white-space: nowrap; border-collapse: collapse}
.MJXc-display {display: block; text-align: center; margin: 1em 0}
.MJXc-math span {display: inline-block}
.MJXc-box {display: block!important; text-align: center}
.MJXc-box:after {content: " "}
.MJXc-rule {display: block!important; margin-top: .1em}
.MJXc-char {display: block!important}
.MJXc-mo {margin: 0 .15em}
.MJXc-mfrac {margin: 0 .125em; vertical-align: .25em}
.MJXc-denom {display: inline-table!important; width: 100%}
.MJXc-denom > * {display: table-row!important}
.MJXc-surd {vertical-align: top}
.MJXc-surd > * {display: block!important}
.MJXc-script-box > *  {display: table!important; height: 50%}
.MJXc-script-box > * > * {display: table-cell!important; vertical-align: top}
.MJXc-script-box > *:last-child > * {vertical-align: bottom}
.MJXc-script-box > * > * > * {display: block!important}
.MJXc-mphantom {visibility: hidden}
.MJXc-munderover {display: inline-table!important}
.MJXc-over {display: inline-block!important; text-align: center}
.MJXc-over > * {display: block!important}
.MJXc-munderover > * {display: table-row!important}
.MJXc-mtable {vertical-align: .25em; margin: 0 .125em}
.MJXc-mtable > * {display: inline-table!important; vertical-align: middle}
.MJXc-mtr {display: table-row!important}
.MJXc-mtd {display: table-cell!important; text-align: center; padding: .5em 0 0 .5em}
.MJXc-mtr > .MJXc-mtd:first-child {padding-left: 0}
.MJXc-mtr:first-child > .MJXc-mtd {padding-top: 0}
.MJXc-mlabeledtr {display: table-row!important}
.MJXc-mlabeledtr > .MJXc-mtd:first-child {padding-left: 0}
.MJXc-mlabeledtr:first-child > .MJXc-mtd {padding-top: 0}
.MJXc-merror {background-color: #FFFF88; color: #CC0000; border: 1px solid #CC0000; padding: 1px 3px; font-style: normal; font-size: 90%}
.MJXc-scale0 {-webkit-transform: scaleX(.0); -moz-transform: scaleX(.0); -ms-transform: scaleX(.0); -o-transform: scaleX(.0); transform: scaleX(.0)}
.MJXc-scale1 {-webkit-transform: scaleX(.1); -moz-transform: scaleX(.1); -ms-transform: scaleX(.1); -o-transform: scaleX(.1); transform: scaleX(.1)}
.MJXc-scale2 {-webkit-transform: scaleX(.2); -moz-transform: scaleX(.2); -ms-transform: scaleX(.2); -o-transform: scaleX(.2); transform: scaleX(.2)}
.MJXc-scale3 {-webkit-transform: scaleX(.3); -moz-transform: scaleX(.3); -ms-transform: scaleX(.3); -o-transform: scaleX(.3); transform: scaleX(.3)}
.MJXc-scale4 {-webkit-transform: scaleX(.4); -moz-transform: scaleX(.4); -ms-transform: scaleX(.4); -o-transform: scaleX(.4); transform: scaleX(.4)}
.MJXc-scale5 {-webkit-transform: scaleX(.5); -moz-transform: scaleX(.5); -ms-transform: scaleX(.5); -o-transform: scaleX(.5); transform: scaleX(.5)}
.MJXc-scale6 {-webkit-transform: scaleX(.6); -moz-transform: scaleX(.6); -ms-transform: scaleX(.6); -o-transform: scaleX(.6); transform: scaleX(.6)}
.MJXc-scale7 {-webkit-transform: scaleX(.7); -moz-transform: scaleX(.7); -ms-transform: scaleX(.7); -o-transform: scaleX(.7); transform: scaleX(.7)}
.MJXc-scale8 {-webkit-transform: scaleX(.8); -moz-transform: scaleX(.8); -ms-transform: scaleX(.8); -o-transform: scaleX(.8); transform: scaleX(.8)}
.MJXc-scale9 {-webkit-transform: scaleX(.9); -moz-transform: scaleX(.9); -ms-transform: scaleX(.9); -o-transform: scaleX(.9); transform: scaleX(.9)}
.MathJax_CHTML .noError {vertical-align: ; font-size: 90%; text-align: left; color: black; padding: 1px 3px; border: 1px solid}
</style><style type="text/css">.MathJax_Display {text-align: center; margin: 0; position: relative; display: block!important; text-indent: 0; max-width: none; max-height: none; min-width: 0; min-height: 0; width: 100%}
.MathJax .merror {background-color: #FFFF88; color: #CC0000; border: 1px solid #CC0000; padding: 1px 3px; font-style: normal; font-size: 90%}
.MathJax .MJX-monospace {font-family: monospace}
.MathJax .MJX-sans-serif {font-family: sans-serif}
#MathJax_Tooltip {background-color: InfoBackground; color: InfoText; border: 1px solid black; box-shadow: 2px 2px 5px #AAAAAA; -webkit-box-shadow: 2px 2px 5px #AAAAAA; -moz-box-shadow: 2px 2px 5px #AAAAAA; -khtml-box-shadow: 2px 2px 5px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true'); padding: 3px 4px; z-index: 401; position: absolute; left: 0; top: 0; width: auto; height: auto; display: none}
.MathJax {display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 100%; font-size-adjust: none; text-indent: 0; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0; min-height: 0; border: 0; padding: 0; margin: 0}
.MathJax img, .MathJax nobr, .MathJax a {border: 0; padding: 0; margin: 0; max-width: none; max-height: none; min-width: 0; min-height: 0; vertical-align: 0; line-height: normal; text-decoration: none}
img.MathJax_strut {border: 0!important; padding: 0!important; margin: 0!important; vertical-align: 0!important}
.MathJax span {display: inline; position: static; border: 0; padding: 0; margin: 0; vertical-align: 0; line-height: normal; text-decoration: none}
.MathJax nobr {white-space: nowrap!important}
.MathJax img {display: inline!important; float: none!important}
.MathJax * {transition: none; -webkit-transition: none; -moz-transition: none; -ms-transition: none; -o-transition: none}
.MathJax_Processing {visibility: hidden; position: fixed; width: 0; height: 0; overflow: hidden}
.MathJax_Processed {display: none!important}
.MathJax_ExBox {display: block!important; overflow: hidden; width: 1px; height: 60ex; min-height: 0; max-height: none}
.MathJax .MathJax_EmBox {display: block!important; overflow: hidden; width: 1px; height: 60em; min-height: 0; max-height: none}
.MathJax .MathJax_HitBox {cursor: text; background: white; opacity: 0; filter: alpha(opacity=0)}
.MathJax .MathJax_HitBox * {filter: none; opacity: 1; background: transparent}
#MathJax_Tooltip * {filter: none; opacity: 1; background: transparent}
@font-face {font-family: MathJax_Blank; src: url('about:blank')}
.MathJax .noError {vertical-align: ; font-size: 90%; text-align: left; color: black; padding: 1px 3px; border: 1px solid}
</style><script src="Pronto.ipynb_files/init.js" data-requiremodule="nbextensions/widgets/widgets/js/init" data-requirecontext="_" async="" charset="utf-8" type="text/javascript"></script><script src="Pronto.ipynb_files/widgetarea.js" data-requiremodule="nbextensions/widgets/notebook/js/widgetarea" data-requirecontext="_" async="" charset="utf-8" type="text/javascript"></script><script src="Pronto.ipynb_files/manager.js" data-requiremodule="nbextensions/widgets/widgets/js/manager" data-requirecontext="_" async="" charset="utf-8" type="text/javascript"></script><script src="Pronto.ipynb_files/widget.js" data-requiremodule="nbextensions/widgets/widgets/js/widget" data-requirecontext="_" async="" charset="utf-8" type="text/javascript"></script><script src="Pronto.ipynb_files/widget_link.js" data-requiremodule="nbextensions/widgets/widgets/js/widget_link" data-requirecontext="_" async="" charset="utf-8" type="text/javascript"></script><script src="Pronto.ipynb_files/widget_bool.js" data-requiremodule="nbextensions/widgets/widgets/js/widget_bool" data-requirecontext="_" async="" charset="utf-8" type="text/javascript"></script><script src="Pronto.ipynb_files/widget_button.js" data-requiremodule="nbextensions/widgets/widgets/js/widget_button" data-requirecontext="_" async="" charset="utf-8" type="text/javascript"></script><script src="Pronto.ipynb_files/widget_box.js" data-requiremodule="nbextensions/widgets/widgets/js/widget_box" data-requirecontext="_" async="" charset="utf-8" type="text/javascript"></script><script src="Pronto.ipynb_files/widget_float.js" data-requiremodule="nbextensions/widgets/widgets/js/widget_float" data-requirecontext="_" async="" charset="utf-8" type="text/javascript"></script><script src="Pronto.ipynb_files/widget_image.js" data-requiremodule="nbextensions/widgets/widgets/js/widget_image" data-requirecontext="_" async="" charset="utf-8" type="text/javascript"></script><script src="Pronto.ipynb_files/widget_int.js" data-requiremodule="nbextensions/widgets/widgets/js/widget_int" data-requirecontext="_" async="" charset="utf-8" type="text/javascript"></script><script src="Pronto.ipynb_files/widget_output.js" data-requiremodule="nbextensions/widgets/widgets/js/widget_output" data-requirecontext="_" async="" charset="utf-8" type="text/javascript"></script><script src="Pronto.ipynb_files/widget_selection.js" data-requiremodule="nbextensions/widgets/widgets/js/widget_selection" data-requirecontext="_" async="" charset="utf-8" type="text/javascript"></script><script src="Pronto.ipynb_files/widget_selectioncontainer.js" data-requiremodule="nbextensions/widgets/widgets/js/widget_selectioncontainer" data-requirecontext="_" async="" charset="utf-8" type="text/javascript"></script><script src="Pronto.ipynb_files/widget_string.js" data-requiremodule="nbextensions/widgets/widgets/js/widget_string" data-requirecontext="_" async="" charset="utf-8" type="text/javascript"></script><script src="Pronto.ipynb_files/backbone-min.js" data-requiremodule="backbone" data-requirecontext="_" async="" charset="utf-8" type="text/javascript"></script><link href="Pronto.ipynb_files/widgets.css" type="text/css" rel="stylesheet"></head>

<body class="notebook_app  command_mode" data-project="" data-base-url="/" data-ws-url="" data-notebook-name="Pronto.ipynb" data-notebook-path="pronto-data-2015/Pronto_Challenge/Pronto.ipynb"><div style="visibility: hidden; overflow: hidden; position: absolute; top: 0px; height: 1px; width: auto; padding: 0px; border: 0px none; margin: 0px; text-align: left; text-indent: 0px; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal;"><div id="MathJax_Hidden"></div></div><div style="display: none;" id="MathJax_Message"></div>

<noscript>
    <div id='noscript'>
      IPython Notebook requires JavaScript.<br>
      Please enable it to proceed.
  </div>
</noscript>

<div style="display: block;" id="header">
  <div id="header-container" class="container">
  <div id="ipython_notebook" class="nav navbar-brand pull-left"><a href="http://ibs-timf-ux1:8888/tree" title="dashboard"><img src="Pronto.ipynb_files/logo.png" alt="Jupyter Notebook"></a></div>

  
  
  

    <span id="login_widget">
      
    </span>

  

  

  


<span id="save_widget" class="pull-left save_widget">
    <span id="notebook_name" class="filename">Pronto</span>
    <span title="Wed, Nov 11, 2015 11:09 AM" class="checkpoint_status">Last Checkpoint: 20 minutes ago</span>
    <span class="autosave_status">(autosaved)</span>
</span>

<span id="kernel_logo_widget">
  <img style="display: inline;" class="current_kernel_logo" src="Pronto.ipynb_files/logo-64x64.png">
</span>


  </div>
  <div class="header-bar"></div>

  
<div id="menubar-container" class="container">
<div id="menubar">
    <div id="menus" class="navbar navbar-default" role="navigation">
        <div class="container-fluid">
            <button type="button" class="btn btn-default navbar-btn navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
              <i class="fa fa-bars"></i>
              <span class="navbar-text">Menu</span>
            </button>
            <p id="kernel_indicator" class="navbar-text indicator_area">
              <span class="kernel_indicator_name">Python 2</span>
              <i title="Kernel Idle" class="kernel_idle_icon" id="kernel_indicator_icon"></i>
            </p>
            <i style="display: none;" id="readonly-indicator" class="navbar-text" title="This notebook is read-only">
                <span class="fa-stack">
                    <i class="fa fa-save fa-stack-1x"></i>
                    <i class="fa fa-ban fa-stack-2x text-danger"></i>
                </span>
            </i>
            <i title="Command Mode" id="modal_indicator" class="navbar-text modal_indicator"></i>
            <span id="notification_area"><div style="display: none;" class="notification_widget btn btn-xs navbar-btn undefined info" id="notification_kernel"><span></span></div><div style="display: none;" class="notification_widget btn btn-xs navbar-btn" id="notification_notebook"><span></span></div></span>
            <div class="navbar-collapse collapse">
              <ul class="nav navbar-nav">
                <li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown">File</a>
                    <ul id="file_menu" class="dropdown-menu">
                        <li id="new_notebook" class="dropdown-submenu">
                            <a href="#">New Notebook</a>
                            <ul class="dropdown-menu" id="menu-new-notebook-submenu"><li id="new-notebook-submenu-python2"><a href="#">Python 2</a></li></ul>
                        </li>
                        <li id="open_notebook" title="Opens a new window with the Dashboard view">
                            <a href="#">Open...</a></li>
                        <!-- <hr/> -->
                        <li class="divider"></li>
                        <li id="copy_notebook" title="Open a copy of this notebook's contents and start a new kernel">
                            <a href="#">Make a Copy...</a></li>
                        <li id="rename_notebook"><a href="#">Rename...</a></li>
                        <li id="save_checkpoint"><a href="#">Save and Checkpoint</a></li>
                        <!-- <hr/> -->
                        <li class="divider"></li>
                        <li id="restore_checkpoint" class="dropdown-submenu"><a href="#">Revert to Checkpoint</a>
                          <ul class="dropdown-menu"><li><a href="#">Wednesday, November 11, 2015 11:09 AM</a></li></ul>
                        </li>
                        <li class="divider"></li>
                        <li id="print_preview"><a href="#">Print Preview</a></li>
                        <li class="dropdown-submenu"><a href="#">Download as</a>
                            <ul class="dropdown-menu">
                                <li id="download_ipynb"><a href="#">IPython Notebook (.ipynb)</a></li>
                                <li id="download_script"><a href="#">Python (.py)</a></li>
                                <li id="download_html"><a href="#">HTML (.html)</a></li>
                                <li id="download_markdown"><a href="#">Markdown (.md)</a></li>
                                <li id="download_rst"><a href="#">reST (.rst)</a></li>
                                <li id="download_pdf"><a href="#">PDF via LaTeX (.pdf)</a></li>
                            </ul>
                        </li>
                        <li class="divider"></li>
                        <li class="disabled" id="trust_notebook" title="Trust the output of this notebook">
                            <a href="#">Trusted Notebook</a></li>
                        <li class="divider"></li>
                        <li id="kill_and_exit" title="Shutdown this notebook's kernel, and close this window">
                            <a href="#">Close and Halt</a></li>
                    </ul>
                </li>
                <li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown">Edit</a>
                    <ul id="edit_menu" class="dropdown-menu">
                        <li id="cut_cell"><a href="#">Cut Cell</a></li>
                        <li id="copy_cell"><a href="#">Copy Cell</a></li>
                        <li id="paste_cell_above" class="disabled"><a href="#">Paste Cell Above</a></li>
                        <li id="paste_cell_below" class="disabled"><a href="#">Paste Cell Below</a></li>
                        <li id="paste_cell_replace" class="disabled"><a href="#">Paste Cell &amp; Replace</a></li>
                        <li id="delete_cell"><a href="#">Delete Cell</a></li>
                        <li id="undelete_cell" class="disabled"><a href="#">Undo Delete Cell</a></li>
                        <li class="divider"></li>
                        <li id="split_cell"><a href="#">Split Cell</a></li>
                        <li id="merge_cell_above"><a href="#">Merge Cell Above</a></li>
                        <li id="merge_cell_below"><a href="#">Merge Cell Below</a></li>
                        <li class="divider"></li>
                        <li id="move_cell_up"><a href="#">Move Cell Up</a></li>
                        <li id="move_cell_down"><a href="#">Move Cell Down</a></li>
                        <li class="divider"></li>
                        <li id="edit_nb_metadata"><a href="#">Edit Notebook Metadata</a></li>
                    </ul>
                </li>
                <li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown">View</a>
                    <ul id="view_menu" class="dropdown-menu">
                        <li id="toggle_header" title="Show/Hide the IPython Notebook logo and notebook title (above menu bar)">
                            <a href="#">Toggle Header</a></li>
                        <li id="toggle_toolbar" title="Show/Hide the action icons (below menu bar)">
                            <a href="#">Toggle Toolbar</a></li>
                    </ul>
                </li>
                <li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown">Insert</a>
                    <ul id="insert_menu" class="dropdown-menu">
                        <li id="insert_cell_above" title="Insert an empty Code cell above the currently active cell">
                            <a href="#">Insert Cell Above</a></li>
                        <li id="insert_cell_below" title="Insert an empty Code cell below the currently active cell">
                            <a href="#">Insert Cell Below</a></li>
                    </ul>
                </li>
                <li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown">Cell</a>
                    <ul id="cell_menu" class="dropdown-menu">
                        <li id="run_cell" title="Run this cell, and move cursor to the next one">
                            <a href="#">Run</a></li>
                        <li id="run_cell_select_below" title="Run this cell, select below">
                            <a href="#">Run and Select Below</a></li>
                        <li id="run_cell_insert_below" title="Run this cell, insert below">
                            <a href="#">Run and Insert Below</a></li>
                        <li id="run_all_cells" title="Run all cells in the notebook">
                            <a href="#">Run All</a></li>
                        <li id="run_all_cells_above" title="Run all cells above (but not including) this cell">
                            <a href="#">Run All Above</a></li>
                        <li id="run_all_cells_below" title="Run this cell and all cells below it">
                            <a href="#">Run All Below</a></li>
                        <li class="divider"></li>
                        <li id="change_cell_type" class="dropdown-submenu" title="All cells in the notebook have a cell type. By default, new cells are created as 'Code' cells">
                            <a href="#">Cell Type</a>
                            <ul class="dropdown-menu">
                              <li id="to_code" title="Contents will be sent to the kernel for execution, and output will display in the footer of cell">
                                  <a href="#">Code</a></li>
                              <li id="to_markdown" title="Contents will be rendered as HTML and serve as explanatory text">
                                  <a href="#">Markdown</a></li>
                              <li id="to_raw" title="Contents will pass through nbconvert unmodified">
                                  <a href="#">Raw NBConvert</a></li>
                            </ul>
                        </li>
                        <li class="divider"></li>
                        <li id="current_outputs" class="dropdown-submenu"><a href="#">Current Output</a>
                            <ul class="dropdown-menu">
                                <li id="toggle_current_output" title="Hide/Show the output of the current cell">
                                    <a href="#">Toggle</a>
                                </li>
                                <li id="toggle_current_output_scroll" title="Scroll the output of the current cell">
                                    <a href="#">Toggle Scrolling</a>
                                </li>
                                <li id="clear_current_output" title="Clear the output of the current cell">
                                    <a href="#">Clear</a>
                                </li>
                            </ul>
                        </li>
                        <li id="all_outputs" class="dropdown-submenu"><a href="#">All Output</a>
                            <ul class="dropdown-menu">
                                <li id="toggle_all_output" title="Hide/Show the output of all cells">
                                    <a href="#">Toggle</a>
                                </li>
                                <li id="toggle_all_output_scroll" title="Scroll the output of all cells">
                                    <a href="#">Toggle Scrolling</a>
                                </li>
                                <li id="clear_all_output" title="Clear the output of all cells">
                                    <a href="#">Clear</a>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </li>
                <li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown">Kernel</a>
                    <ul id="kernel_menu" class="dropdown-menu">
                        <li id="int_kernel" title="Send KeyboardInterrupt (CTRL-C) to the Kernel">
                            <a href="#">Interrupt</a>
                        </li>
                        <li id="restart_kernel" title="Restart the Kernel">
                            <a href="#">Restart</a>
                        </li>
                        <li id="reconnect_kernel" title="Reconnect to the Kernel">
                            <a href="#">Reconnect</a>
                        </li>
                        <li class="divider"></li>
                        <li id="menu-change-kernel" class="dropdown-submenu">
                            <a href="#">Change kernel</a>
                            <ul class="dropdown-menu" id="menu-change-kernel-submenu"><li id="kernel-submenu-python2"><a href="#">Python 2</a></li></ul>
                        </li>
                    </ul>
                </li>
                <li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown">Help</a>
                    <ul id="help_menu" class="dropdown-menu">
                        <li id="notebook_tour" title="A quick tour of the notebook user interface"><a href="#">User Interface Tour</a></li>
                        <li id="keyboard_shortcuts" title="Opens a tooltip with all keyboard shortcuts"><a href="#">Keyboard Shortcuts</a></li>
                        <li class="divider"></li>
                        

                        
                            
                                <li><a href="http://nbviewer.ipython.org/github/ipython/ipython/blob/3.x/examples/Notebook/Index.ipynb" target="_blank" title="Opens in a new window">
                                <i class="fa fa-external-link menu-icon pull-right"></i>
                                Notebook Help
                                </a></li>
                            
                                <li><a href="https://help.github.com/articles/markdown-basics/" target="_blank" title="Opens in a new window">
                                <i class="fa fa-external-link menu-icon pull-right"></i>
                                Markdown
                                </a></li>
                            
                            
                        
                        <li class="divider" id="kernel-help-links"></li><li><a href="http://docs.python.org/2.7" title="Opens in a new window" target="_blank"><i class="fa fa-external-link menu-icon pull-right"></i><span>Python</span></a></li><li><a href="http://ipython.org/documentation.html" title="Opens in a new window" target="_blank"><i class="fa fa-external-link menu-icon pull-right"></i><span>IPython</span></a></li><li><a href="http://docs.scipy.org/doc/numpy/reference/" title="Opens in a new window" target="_blank"><i class="fa fa-external-link menu-icon pull-right"></i><span>NumPy</span></a></li><li><a href="http://docs.scipy.org/doc/scipy/reference/" title="Opens in a new window" target="_blank"><i class="fa fa-external-link menu-icon pull-right"></i><span>SciPy</span></a></li><li><a href="http://matplotlib.org/contents.html" title="Opens in a new window" target="_blank"><i class="fa fa-external-link menu-icon pull-right"></i><span>Matplotlib</span></a></li><li><a href="http://docs.sympy.org/latest/index.html" title="Opens in a new window" target="_blank"><i class="fa fa-external-link menu-icon pull-right"></i><span>SymPy</span></a></li><li><a href="http://pandas.pydata.org/pandas-docs/stable/" title="Opens in a new window" target="_blank"><i class="fa fa-external-link menu-icon pull-right"></i><span>pandas</span></a></li><li class="divider"></li>
                        <li title="About IPython Notebook"><a id="notebook_about" href="#">About</a></li>
                    </ul>
                </li>
              </ul>
            </div>
        </div>
    </div>
</div>

<div id="maintoolbar" class="navbar">
  <div class="toolbar-inner navbar-inner navbar-nobg">
    <div id="maintoolbar-container" class="container toolbar"><div id="save-notbook" class="btn-group"><button data-jupyter-action="ipython.save-notebook" title="Save and Checkpoint" class="btn btn-default"><i class="fa-save fa"></i></button></div><div id="insert_above_below" class="btn-group"><button data-jupyter-action="ipython.insert-cell-after" title="insert cell below" class="btn btn-default"><i class="fa-plus fa"></i></button></div><div id="cut_copy_paste" class="btn-group"><button data-jupyter-action="ipython.cut-selected-cell" title="cut selected cell" class="btn btn-default"><i class="fa-cut fa"></i></button><button data-jupyter-action="ipython.copy-selected-cell" title="copy selected cell" class="btn btn-default"><i class="fa-copy fa"></i></button><button data-jupyter-action="ipython.paste-cell-after" title="paste cell below" class="btn btn-default"><i class="fa-paste fa"></i></button></div><div id="move_up_down" class="btn-group"><button data-jupyter-action="ipython.move-selected-cell-up" title="move selected cell up" class="btn btn-default"><i class="fa-arrow-up fa"></i></button><button data-jupyter-action="ipython.move-selected-cell-down" title="move selected cell down" class="btn btn-default"><i class="fa-arrow-down fa"></i></button></div><div id="run_int" class="btn-group"><button data-jupyter-action="ipython.run-select-next" title="run cell, select below" class="btn btn-default"><i class="fa-step-forward fa"></i></button><button data-jupyter-action="ipython.interrupt-kernel" title="interrupt kernel" class="btn btn-default"><i class="fa-stop fa"></i></button><button data-jupyter-action="ipython.restart-kernel" title="restart kernel" class="btn btn-default"><i class="fa-repeat fa"></i></button></div><select class="form-control select-xs" id="cell_type"><option value="code">Code</option><option selected="selected" value="markdown">Markdown</option><option value="raw">Raw NBConvert</option><option value="heading">Heading</option></select><div class="btn-group"><span class="navbar-text">Cell Toolbar:</span><select class="form-control select-xs" id="ctb_select"><option selected="selected" value="">None</option><option value="Edit Metadata">Edit Metadata</option><option value="Raw Cell Format">Raw Cell Format</option><option value="Slideshow">Slideshow</option></select></div></div>
  </div>
</div>
</div>

<div class="lower-header-bar"></div>

</div>

<div style="height: 809px; display: block;" id="site">


<div id="ipython-main-app">
    <div id="notebook_panel">
        <div tabindex="-1" id="notebook"><div id="notebook-container" class="container"><div tabindex="2" class="cell text_cell rendered selected"><div class="prompt input_prompt"></div><div class="inner_cell"><div class="ctb_hideshow"><div class="celltoolbar"></div></div><div class="input_area"><div class="CodeMirror cm-s-default CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 5.60001px; left: 5.60001px;"><textarea tabindex="0" spellcheck="false" autocapitalize="off" autocorrect="off" wrap="off" style="position: absolute; padding: 0px; width: 1px; height: 1em; outline: medium none;"></textarea></div><div style="bottom: 0px;" cm-not-content="true" class="CodeMirror-vscrollbar"><div style="min-width: 1px; height: 0px;"></div></div><div cm-not-content="true" class="CodeMirror-hscrollbar"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div cm-not-content="true" class="CodeMirror-scrollbar-filler"></div><div cm-not-content="true" class="CodeMirror-gutter-filler"></div><div draggable="true" tabindex="-1" class="CodeMirror-scroll"><div style="margin-left: 0px; padding-right: 0px; padding-bottom: 0px; margin-bottom: -15px; border-right-width: 15px; min-height: 218px;" class="CodeMirror-sizer"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: medium none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div style="left: 0px; top: 0px; height: 20px;" class="CodeMirror-cursor">&nbsp;</div></div><div style="" class="CodeMirror-code"><pre class=" CodeMirror-line "><span><span class="cm-header cm-header-2">## Introduction</span></span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span>This notebook is the result of a short investigation of the 2015 Pronto Data Challenge.</span></pre><pre class=" CodeMirror-line "><span>It is intended to be a demonstration of how IPython/Jupyter notebooks</span></pre><pre class=" CodeMirror-line "><span>can be easily combined with the pandas, spark and d3 libraries based on previously existing demonstrations.</span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span>This notebook contains queries to generate two charts.</span></pre><pre class=" CodeMirror-line "><span>One explores trip flows between different regions of the Pronto system.</span></pre><pre class=" CodeMirror-line "><span>The second recreates a chart for a performance metric that has been measured in other bike share systems in the US.</span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span>Hopefully this notebook can be used to gain some quick insights into Pronto's first year, but it it is intended more to be a starting point for more queries.</span></pre></div></div></div></div></div><div style="position: absolute; height: 15px; width: 1px; top: 218px;"></div><div style="display: none; height: 233px;" class="CodeMirror-gutters"></div></div></div></div><div tabindex="-1" class="text_cell_render rendered_html"><h2 id="Introduction">Introduction<a href="#Introduction" class="anchor-link">¶</a></h2>
<p>This notebook is the result of a short investigation of the 2015 Pronto Data Challenge.
It is intended to be a demonstration of how IPython/Jupyter notebooks
can be easily combined with the pandas, spark and d3 libraries based on previously existing demonstrations.</p>
<p>This notebook contains queries to generate two charts.
One explores trip flows between different regions of the Pronto system.
The second recreates a chart for a performance metric that has been measured in other bike share systems in the US.</p>
<p>Hopefully this notebook can be used to gain some quick insights into 
Pronto's first year, but it it is intended more to be a starting point 
for more queries.</p>
</div></div></div><div tabindex="2" class="cell text_cell unselected rendered"><div class="prompt input_prompt"></div><div class="inner_cell"><div class="ctb_hideshow"><div class="celltoolbar"></div></div><div class="input_area"><div class="CodeMirror cm-s-default CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 5.60001px; left: 5.60001px;"><textarea tabindex="0" spellcheck="false" autocapitalize="off" autocorrect="off" wrap="off" style="position: absolute; padding: 0px; width: 1px; height: 1em; outline: medium none;"></textarea></div><div style="bottom: 0px;" cm-not-content="true" class="CodeMirror-vscrollbar"><div style="min-width: 1px; height: 0px;"></div></div><div cm-not-content="true" class="CodeMirror-hscrollbar"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div cm-not-content="true" class="CodeMirror-scrollbar-filler"></div><div cm-not-content="true" class="CodeMirror-gutter-filler"></div><div draggable="true" tabindex="-1" class="CodeMirror-scroll"><div style="margin-left: 0px; padding-right: 0px; padding-bottom: 0px; margin-bottom: -15px; border-right-width: 15px; min-height: 133px;" class="CodeMirror-sizer"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: medium none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div style="left: 0px; top: 0px; height: 20px;" class="CodeMirror-cursor">&nbsp;</div></div><div style="" class="CodeMirror-code"><pre class=" CodeMirror-line "><span><span class="cm-header cm-header-2">## Library Initialization</span></span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span>To begin with, the system needs to be initialized and the libraries loaded.  This notebook relies on a combination of Pandas dataframes and Spark SQL queries to generate data for the D3 javascript and Matplotlib libraries.  It is based on examples that are referenced in the code comments.</span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span>This section can be skipped if you are more interested in the results than the underlying technology.</span></pre></div></div></div></div></div><div style="position: absolute; height: 15px; width: 1px; top: 133px;"></div><div style="display: none; height: 148px;" class="CodeMirror-gutters"></div></div></div></div><div tabindex="-1" class="text_cell_render rendered_html"><h2 id="Library-Initialization">Library Initialization<a href="#Library-Initialization" class="anchor-link">¶</a></h2>
<p>To begin with, the system needs to be initialized and the libraries 
loaded.  This notebook relies on a combination of Pandas dataframes and 
Spark SQL queries to generate data for the D3 javascript and Matplotlib 
libraries.  It is based on examples that are referenced in the code 
comments.</p>
<p>This section can be skipped if you are more interested in the results than the underlying technology.</p>
</div></div></div><div tabindex="2" class="cell code_cell unselected rendered"><div class="input"><div class="prompt input_prompt">In&nbsp;[1]:</div><div class="inner_cell"><div class="ctb_hideshow"><div class="celltoolbar"></div></div><div class="input_area"><div class="CodeMirror cm-s-ipython"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 5.60001px; left: 5.60001px;"><textarea tabindex="0" spellcheck="false" autocapitalize="off" autocorrect="off" wrap="off" style="position: absolute; padding: 0px; width: 1px; height: 1em; outline: medium none;"></textarea></div><div cm-not-content="true" class="CodeMirror-vscrollbar"><div style="min-width: 1px; height: 0px;"></div></div><div cm-not-content="true" class="CodeMirror-hscrollbar"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div cm-not-content="true" class="CodeMirror-scrollbar-filler"></div><div cm-not-content="true" class="CodeMirror-gutter-filler"></div><div draggable="true" tabindex="-1" class="CodeMirror-scroll"><div style="margin-left: 0px; min-width: 675px; margin-bottom: -15px; border-right-width: 15px; min-height: 96px; padding-right: 0px; padding-bottom: 0px;" class="CodeMirror-sizer"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: medium none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div style="left: 0px; top: 0px; height: 17px;" class="CodeMirror-cursor">&nbsp;</div></div><div style="" class="CodeMirror-code"><pre class=" CodeMirror-line "><span><span class="cm-comment"># see http://stackoverflow.com/questions/29783520/create-pyspark-profile-for-ipython</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-keyword">import</span> <span class="cm-variable">findspark</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable">findspark</span>.<span class="cm-variable">init</span>()</span></pre><pre class=" CodeMirror-line "><span><span class="cm-keyword">import</span> <span class="cm-variable">pyspark</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable">sc</span> = <span class="cm-variable">pyspark</span>.<span class="cm-variable">SparkContext</span>(<span class="cm-variable">appName</span>=<span class="cm-string">"ProntoChallenge"</span>)</span></pre></div></div></div></div></div><div style="position: absolute; height: 15px; width: 1px; top: 96px;"></div><div style="display: none; height: 111px;" class="CodeMirror-gutters"></div></div></div></div></div></div><div style="display: none;" class="widget-area"><div class="prompt"><button class="close">×</button></div><div class="widget-subarea"></div></div><div class="output_wrapper"><div title="click to expand output; double click to hide output" class="out_prompt_overlay prompt" style=""></div><div style="" class="output"></div><div title="click to expand output" class="btn btn-default output_collapsed" style="display: none;">. . .</div></div></div><div tabindex="2" class="cell code_cell unselected rendered"><div class="input"><div class="prompt input_prompt">In&nbsp;[2]:</div><div class="inner_cell"><div class="ctb_hideshow"><div class="celltoolbar"></div></div><div class="input_area"><div class="CodeMirror cm-s-ipython"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 5.60004px; left: 5.60001px;"><textarea tabindex="0" spellcheck="false" autocapitalize="off" autocorrect="off" wrap="off" style="position: absolute; padding: 0px; width: 1px; height: 1em; outline: medium none;"></textarea></div><div cm-not-content="true" class="CodeMirror-vscrollbar"><div style="min-width: 1px; height: 0px;"></div></div><div cm-not-content="true" class="CodeMirror-hscrollbar"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div cm-not-content="true" class="CodeMirror-scrollbar-filler"></div><div cm-not-content="true" class="CodeMirror-gutter-filler"></div><div draggable="true" tabindex="-1" class="CodeMirror-scroll"><div style="margin-left: 0px; min-width: 755px; margin-bottom: -15px; border-right-width: 15px; min-height: 62px; padding-right: 0px; padding-bottom: 0px;" class="CodeMirror-sizer"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: medium none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div style="left: 0px; top: 0px; height: 17px;" class="CodeMirror-cursor">&nbsp;</div></div><div class="CodeMirror-code"><pre class=" CodeMirror-line "><span><span class="cm-comment"># see http://spark.apache.org/docs/latest/sql-programming-guide.html#starting-point-sqlcontext</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-keyword">from</span> <span class="cm-variable">pyspark</span>.<span class="cm-variable">sql</span> <span class="cm-keyword">import</span> <span class="cm-variable">SQLContext</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable">sqlContext</span> = <span class="cm-variable">SQLContext</span>(<span class="cm-variable">sc</span>)</span></pre></div></div></div></div></div><div style="position: absolute; height: 15px; width: 1px; top: 62px;"></div><div style="display: none; height: 77px;" class="CodeMirror-gutters"></div></div></div></div></div></div><div style="display: none;" class="widget-area"><div class="prompt"><button class="close">×</button></div><div class="widget-subarea"></div></div><div class="output_wrapper"><div title="click to expand output; double click to hide output" class="out_prompt_overlay prompt" style=""></div><div style="" class="output"></div><div title="click to expand output" class="btn btn-default output_collapsed" style="display: none;">. . .</div></div></div><div tabindex="2" class="cell code_cell unselected rendered"><div class="input"><div class="prompt input_prompt">In&nbsp;[3]:</div><div class="inner_cell"><div class="ctb_hideshow"><div class="celltoolbar"></div></div><div class="input_area"><div class="CodeMirror cm-s-ipython"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 5.59998px; left: 5.60001px;"><textarea tabindex="0" spellcheck="false" autocapitalize="off" autocorrect="off" wrap="off" style="position: absolute; padding: 0px; width: 1px; height: 1em; outline: medium none;"></textarea></div><div cm-not-content="true" class="CodeMirror-vscrollbar"><div style="min-width: 1px; height: 0px;"></div></div><div cm-not-content="true" class="CodeMirror-hscrollbar"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div cm-not-content="true" class="CodeMirror-scrollbar-filler"></div><div cm-not-content="true" class="CodeMirror-gutter-filler"></div><div draggable="true" tabindex="-1" class="CodeMirror-scroll"><div style="margin-left: 0px; min-width: 155px; margin-bottom: -15px; border-right-width: 15px; min-height: 45px; padding-right: 0px; padding-bottom: 0px;" class="CodeMirror-sizer"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: medium none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div style="left: 0px; top: 0px; height: 17px;" class="CodeMirror-cursor">&nbsp;</div></div><div class="CodeMirror-code"><pre class=" CodeMirror-line "><span><span class="cm-keyword">import</span> <span class="cm-variable">pandas</span> <span class="cm-keyword">as</span> <span class="cm-variable">pd</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-keyword">import</span> <span class="cm-variable">numpy</span> <span class="cm-keyword">as</span> <span class="cm-variable">np</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 15px; width: 1px; top: 45px;"></div><div style="display: none; height: 60px;" class="CodeMirror-gutters"></div></div></div></div></div></div><div style="display: none;" class="widget-area"><div class="prompt"><button class="close">×</button></div><div class="widget-subarea"></div></div><div class="output_wrapper"><div title="click to expand output; double click to hide output" class="out_prompt_overlay prompt" style="display: none;"></div><div style="display: none;" class="output"></div><div title="click to expand output" class="btn btn-default output_collapsed" style="display: none;">. . .</div></div></div><div tabindex="2" class="cell text_cell unselected rendered"><div class="prompt input_prompt"></div><div class="inner_cell"><div class="ctb_hideshow"><div class="celltoolbar"></div></div><div class="input_area"><div class="CodeMirror cm-s-default CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 5.59998px; left: 5.60001px;"><textarea tabindex="0" spellcheck="false" autocapitalize="off" autocorrect="off" wrap="off" style="position: absolute; padding: 0px; width: 1px; height: 1em; outline: medium none;"></textarea></div><div style="bottom: 0px;" cm-not-content="true" class="CodeMirror-vscrollbar"><div style="min-width: 1px; height: 0px;"></div></div><div cm-not-content="true" class="CodeMirror-hscrollbar"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div cm-not-content="true" class="CodeMirror-scrollbar-filler"></div><div cm-not-content="true" class="CodeMirror-gutter-filler"></div><div draggable="true" tabindex="-1" class="CodeMirror-scroll"><div style="margin-left: 0px; padding-right: 0px; padding-bottom: 0px; margin-bottom: -15px; border-right-width: 15px; min-height: 45px;" class="CodeMirror-sizer"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: medium none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div style="left: 0px; top: 0px; height: 17px;" class="CodeMirror-cursor">&nbsp;</div></div><div class="CodeMirror-code"><pre class=" CodeMirror-line "><span>Load the data.  Pandas currently is currently more convenient than Spark at reading csv files of the format provided by Pronto, so we'll read them as Pandas dataframes.</span></pre></div></div></div></div></div><div style="position: absolute; height: 15px; width: 1px; top: 45px;"></div><div style="display: none; height: 60px;" class="CodeMirror-gutters"></div></div></div></div><div tabindex="-1" class="text_cell_render rendered_html"><p>Load
 the data.  Pandas currently is currently more convenient than Spark at 
reading csv files of the format provided by Pronto, so we'll read them 
as Pandas dataframes.</p>
</div></div></div><div tabindex="2" class="cell code_cell unselected rendered"><div class="input"><div class="prompt input_prompt">In&nbsp;[4]:</div><div class="inner_cell"><div class="ctb_hideshow"><div class="celltoolbar"></div></div><div class="input_area"><div class="CodeMirror cm-s-ipython"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 5.59998px; left: 5.60001px;"><textarea tabindex="0" spellcheck="false" autocapitalize="off" autocorrect="off" wrap="off" style="position: absolute; padding: 0px; width: 1px; height: 1em; outline: medium none;"></textarea></div><div cm-not-content="true" class="CodeMirror-vscrollbar"><div style="min-width: 1px; height: 0px;"></div></div><div cm-not-content="true" class="CodeMirror-hscrollbar"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div cm-not-content="true" class="CodeMirror-scrollbar-filler"></div><div cm-not-content="true" class="CodeMirror-gutter-filler"></div><div draggable="true" tabindex="-1" class="CodeMirror-scroll"><div style="margin-left: 0px; min-width: 419px; margin-bottom: -15px; border-right-width: 15px; min-height: 113px; padding-right: 0px; padding-bottom: 0px;" class="CodeMirror-sizer"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: medium none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div style="left: 0px; top: 0px; height: 17px;" class="CodeMirror-cursor">&nbsp;</div></div><div style="" class="CodeMirror-code"><pre class=" CodeMirror-line "><span><span class="cm-variable">station_df</span> = <span class="cm-variable">pd</span>.<span class="cm-variable">read_csv</span>(<span class="cm-string">'2015_station_data.csv'</span>)</span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable">trip_df</span> = <span class="cm-variable">pd</span>.<span class="cm-variable">read_csv</span>(<span class="cm-string">'2015_trip_data.csv'</span>)</span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable">trip_df</span>.<span class="cm-variable">dropna</span>()</span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable">weather_df</span> = <span class="cm-variable">pd</span>.<span class="cm-variable">read_csv</span>(<span class="cm-string">'2015_weather_data.csv'</span>)</span></pre><pre class=" CodeMirror-line "><span><span class="cm-comment"># it's bigger dataset, and not used in this example.</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-comment">#status_df = pd.read_csv('2015_status_data.csv')</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 15px; width: 1px; top: 113px;"></div><div style="display: none; height: 128px;" class="CodeMirror-gutters"></div></div></div></div></div></div><div style="display: none;" class="widget-area"><div class="prompt"><button class="close">×</button></div><div class="widget-subarea"></div></div><div class="output_wrapper"><div title="click to expand output; double click to hide output" class="out_prompt_overlay prompt" style=""></div><div style="" class="output"></div><div title="click to expand output" class="btn btn-default output_collapsed" style="display: none;">. . .</div></div></div><div tabindex="2" class="cell text_cell unselected rendered"><div class="prompt input_prompt"></div><div class="inner_cell"><div class="ctb_hideshow"><div class="celltoolbar"></div></div><div class="input_area"><div class="CodeMirror cm-s-default CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 5.59998px; left: 5.60001px;"><textarea tabindex="0" spellcheck="false" autocapitalize="off" autocorrect="off" wrap="off" style="position: absolute; padding: 0px; width: 1px; height: 1em; outline: medium none;"></textarea></div><div style="bottom: 0px;" cm-not-content="true" class="CodeMirror-vscrollbar"><div style="min-width: 1px; height: 0px;"></div></div><div cm-not-content="true" class="CodeMirror-hscrollbar"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div cm-not-content="true" class="CodeMirror-scrollbar-filler"></div><div cm-not-content="true" class="CodeMirror-gutter-filler"></div><div draggable="true" tabindex="-1" class="CodeMirror-scroll"><div style="margin-left: 0px; padding-right: 0px; padding-bottom: 0px; margin-bottom: -15px; border-right-width: 15px; min-height: 82px;" class="CodeMirror-sizer"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: medium none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div style="left: 0px; top: 0px; height: 20px;" class="CodeMirror-cursor">&nbsp;</div></div><div class="CodeMirror-code"><pre class=" CodeMirror-line "><span><span class="cm-header cm-header-2">## Visualization of Inter- and Intra-region Trips</span></span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span>This notebook does not do automated clustering on the data.  But as a quick alternative, it turns out the station ids have a region label in them.  The following lines make that an explicit column in the station table.</span></pre></div></div></div></div></div><div style="position: absolute; height: 15px; width: 1px; top: 82px;"></div><div style="display: none; height: 97px;" class="CodeMirror-gutters"></div></div></div></div><div tabindex="-1" class="text_cell_render rendered_html"><h2 id="Visualization-of-Inter--and-Intra-region-Trips">Visualization of Inter- and Intra-region Trips<a href="#Visualization-of-Inter--and-Intra-region-Trips" class="anchor-link">¶</a></h2>
<p>This notebook does not do automated clustering on the data.  But as a
 quick alternative, it turns out the station ids have a region label in 
them.  The following lines make that an explicit column in the station 
table.</p>
</div></div></div><div tabindex="2" class="cell code_cell unselected rendered"><div class="input"><div class="prompt input_prompt">In&nbsp;[5]:</div><div class="inner_cell"><div class="ctb_hideshow"><div class="celltoolbar"></div></div><div class="input_area"><div class="CodeMirror cm-s-ipython"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 5.59998px; left: 5.60001px;"><textarea tabindex="0" spellcheck="false" autocapitalize="off" autocorrect="off" wrap="off" style="position: absolute; padding: 0px; width: 1px; height: 1em; outline: medium none;"></textarea></div><div cm-not-content="true" class="CodeMirror-vscrollbar"><div style="min-width: 1px; height: 0px;"></div></div><div cm-not-content="true" class="CodeMirror-hscrollbar"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div cm-not-content="true" class="CodeMirror-scrollbar-filler"></div><div cm-not-content="true" class="CodeMirror-gutter-filler"></div><div draggable="true" tabindex="-1" class="CodeMirror-scroll"><div style="margin-left: 0px; min-width: 795px; margin-bottom: -15px; border-right-width: 15px; min-height: 62px; padding-right: 0px; padding-bottom: 0px;" class="CodeMirror-sizer"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: medium none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div style="left: 0px; top: 0px; height: 17px;" class="CodeMirror-cursor">&nbsp;</div></div><div class="CodeMirror-code"><pre class=" CodeMirror-line "><span><span class="cm-variable">trip_df</span>.<span class="cm-variable">loc</span>[:,<span class="cm-string">'from_region'</span>] = <span class="cm-variable">trip_df</span>.<span class="cm-variable">loc</span>[:,<span class="cm-string">'from_station_id'</span>].<span class="cm-builtin">map</span>(<span class="cm-keyword">lambda</span> <span class="cm-variable">r</span>: <span class="cm-builtin">str</span>(<span class="cm-variable">r</span>).<span class="cm-variable">split</span>(<span class="cm-string">'-'</span>)[<span class="cm-number">0</span>])</span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable">trip_df</span>.<span class="cm-variable">loc</span>[:,<span class="cm-string">'to_region'</span>] = <span class="cm-variable">trip_df</span>.<span class="cm-variable">loc</span>[:,<span class="cm-string">'to_station_id'</span>].<span class="cm-builtin">map</span>(<span class="cm-keyword">lambda</span> <span class="cm-variable">r</span>: <span class="cm-builtin">str</span>(<span class="cm-variable">r</span>).<span class="cm-variable">split</span>(<span class="cm-string">'-'</span>)[<span class="cm-number">0</span>])</span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable">station_df</span>.<span class="cm-variable">loc</span>[:,<span class="cm-string">'region'</span>] = <span class="cm-variable">station_df</span>.<span class="cm-variable">loc</span>[:,<span class="cm-string">'terminal'</span>].<span class="cm-builtin">map</span>(<span class="cm-keyword">lambda</span> <span class="cm-variable">r</span>: <span class="cm-builtin">str</span>(<span class="cm-variable">r</span>).<span class="cm-variable">split</span>(<span class="cm-string">'-'</span>)[<span class="cm-number">0</span>])</span></pre></div></div></div></div></div><div style="position: absolute; height: 15px; width: 1px; top: 62px;"></div><div style="display: none; height: 77px;" class="CodeMirror-gutters"></div></div></div></div></div></div><div style="display: none;" class="widget-area"><div class="prompt"><button class="close">×</button></div><div class="widget-subarea"></div></div><div class="output_wrapper"><div title="click to expand output; double click to hide output" class="out_prompt_overlay prompt" style=""></div><div style="" class="output"></div><div title="click to expand output" class="btn btn-default output_collapsed" style="display: none;">. . .</div></div></div><div tabindex="2" class="cell text_cell unselected rendered"><div class="prompt input_prompt"></div><div class="inner_cell"><div class="ctb_hideshow"><div class="celltoolbar"></div></div><div class="input_area"><div class="CodeMirror cm-s-default CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 5.6001px; left: 5.60001px;"><textarea tabindex="0" spellcheck="false" autocapitalize="off" autocorrect="off" wrap="off" style="position: absolute; padding: 0px; width: 1px; height: 1em; outline: medium none;"></textarea></div><div style="bottom: 0px;" cm-not-content="true" class="CodeMirror-vscrollbar"><div style="min-width: 1px; height: 0px;"></div></div><div cm-not-content="true" class="CodeMirror-hscrollbar"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div cm-not-content="true" class="CodeMirror-scrollbar-filler"></div><div cm-not-content="true" class="CodeMirror-gutter-filler"></div><div draggable="true" tabindex="-1" class="CodeMirror-scroll"><div style="margin-left: 0px; padding-right: 0px; padding-bottom: 0px; margin-bottom: -15px; border-right-width: 15px; min-height: 45px;" class="CodeMirror-sizer"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: medium none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div style="left: 0px; top: 0px; height: 17px;" class="CodeMirror-cursor">&nbsp;</div></div><div class="CodeMirror-code"><pre class=" CodeMirror-line "><span>The Pandas library can be used alone, but in some situations the SQL language is more useful.  The Spark library converts easily between Pandas and Spark SQL Dataframes.  The following are SQL versions of the tables.</span></pre></div></div></div></div></div><div style="position: absolute; height: 15px; width: 1px; top: 45px;"></div><div style="display: none; height: 60px;" class="CodeMirror-gutters"></div></div></div></div><div tabindex="-1" class="text_cell_render rendered_html"><p>The
 Pandas library can be used alone, but in some situations the SQL 
language is more useful.  The Spark library converts easily between 
Pandas and Spark SQL Dataframes.  The following are SQL versions of the 
tables.</p>
</div></div></div><div tabindex="2" class="cell code_cell unselected rendered"><div class="input"><div class="prompt input_prompt">In&nbsp;[6]:</div><div class="inner_cell"><div class="ctb_hideshow"><div class="celltoolbar"></div></div><div class="input_area"><div class="CodeMirror cm-s-ipython"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 5.6001px; left: 5.60001px;"><textarea tabindex="0" spellcheck="false" autocapitalize="off" autocorrect="off" wrap="off" style="position: absolute; padding: 0px; width: 1px; height: 1em; outline: medium none;"></textarea></div><div cm-not-content="true" class="CodeMirror-vscrollbar"><div style="min-width: 1px; height: 0px;"></div></div><div cm-not-content="true" class="CodeMirror-hscrollbar"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div cm-not-content="true" class="CodeMirror-scrollbar-filler"></div><div cm-not-content="true" class="CodeMirror-gutter-filler"></div><div draggable="true" tabindex="-1" class="CodeMirror-scroll"><div style="margin-left: 0px; min-width: 427px; margin-bottom: -15px; border-right-width: 15px; min-height: 45px; padding-right: 0px; padding-bottom: 0px;" class="CodeMirror-sizer"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: medium none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div style="left: 0px; top: 0px; height: 17px;" class="CodeMirror-cursor">&nbsp;</div></div><div class="CodeMirror-code"><pre class=" CodeMirror-line "><span><span class="cm-variable">stations_sdf</span> = <span class="cm-variable">sqlContext</span>.<span class="cm-variable">createDataFrame</span>(<span class="cm-variable">station_df</span>)</span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable">stations_sdf</span>.<span class="cm-variable">registerTempTable</span>(<span class="cm-string">'stations'</span>)</span></pre></div></div></div></div></div><div style="position: absolute; height: 15px; width: 1px; top: 45px;"></div><div style="display: none; height: 60px;" class="CodeMirror-gutters"></div></div></div></div></div></div><div style="display: none;" class="widget-area"><div class="prompt"><button class="close">×</button></div><div class="widget-subarea"></div></div><div class="output_wrapper"><div title="click to expand output; double click to hide output" class="out_prompt_overlay prompt" style=""></div><div style="" class="output"></div><div title="click to expand output" class="btn btn-default output_collapsed" style="display: none;">. . .</div></div></div><div tabindex="2" class="cell code_cell unselected rendered"><div class="input"><div class="prompt input_prompt">In&nbsp;[7]:</div><div class="inner_cell"><div class="ctb_hideshow"><div class="celltoolbar"></div></div><div class="input_area"><div class="CodeMirror cm-s-ipython"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 5.59998px; left: 5.60001px;"><textarea tabindex="0" spellcheck="false" autocapitalize="off" autocorrect="off" wrap="off" style="position: absolute; padding: 0px; width: 1px; height: 1em; outline: medium none;"></textarea></div><div cm-not-content="true" class="CodeMirror-vscrollbar"><div style="min-width: 1px; height: 0px;"></div></div><div cm-not-content="true" class="CodeMirror-hscrollbar"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div cm-not-content="true" class="CodeMirror-scrollbar-filler"></div><div cm-not-content="true" class="CodeMirror-gutter-filler"></div><div draggable="true" tabindex="-1" class="CodeMirror-scroll"><div style="margin-left: 0px; min-width: 371px; margin-bottom: -15px; border-right-width: 15px; min-height: 45px; padding-right: 0px; padding-bottom: 0px;" class="CodeMirror-sizer"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: medium none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div style="left: 0px; top: 0px; height: 17px;" class="CodeMirror-cursor">&nbsp;</div></div><div class="CodeMirror-code"><pre class=" CodeMirror-line "><span><span class="cm-variable">trip_sdf</span> = <span class="cm-variable">sqlContext</span>.<span class="cm-variable">createDataFrame</span>(<span class="cm-variable">trip_df</span>)</span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable">trip_sdf</span>.<span class="cm-variable">registerTempTable</span>(<span class="cm-string">'trips'</span>)</span></pre></div></div></div></div></div><div style="position: absolute; height: 15px; width: 1px; top: 45px;"></div><div style="display: none; height: 60px;" class="CodeMirror-gutters"></div></div></div></div></div></div><div style="display: none;" class="widget-area"><div class="prompt"><button class="close">×</button></div><div class="widget-subarea"></div></div><div class="output_wrapper"><div title="click to expand output; double click to hide output" class="out_prompt_overlay prompt" style="display: none;"></div><div style="display: none;" class="output"></div><div title="click to expand output" class="btn btn-default output_collapsed" style="display: none;">. . .</div></div></div><div tabindex="2" class="cell text_cell unselected rendered"><div class="prompt input_prompt"></div><div class="inner_cell"><div class="ctb_hideshow"><div class="celltoolbar"></div></div><div class="input_area"><div class="CodeMirror cm-s-default CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 5.59998px; left: 5.60001px;"><textarea tabindex="0" spellcheck="false" autocapitalize="off" autocorrect="off" wrap="off" style="position: absolute; padding: 0px; width: 1px; height: 1em; outline: medium none;"></textarea></div><div style="bottom: 0px;" cm-not-content="true" class="CodeMirror-vscrollbar"><div style="min-width: 1px; height: 0px;"></div></div><div cm-not-content="true" class="CodeMirror-hscrollbar"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div cm-not-content="true" class="CodeMirror-scrollbar-filler"></div><div cm-not-content="true" class="CodeMirror-gutter-filler"></div><div draggable="true" tabindex="-1" class="CodeMirror-scroll"><div style="margin-left: 0px; padding-right: 0px; padding-bottom: 0px; margin-bottom: -15px; border-right-width: 15px; min-height: 45px;" class="CodeMirror-sizer"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: medium none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div style="left: 0px; top: 0px; height: 17px;" class="CodeMirror-cursor">&nbsp;</div></div><div class="CodeMirror-code"><pre class=" CodeMirror-line "><span>The SQL tables can now be used to group and count the trips by region labels.  Pandas could be used to express this query as well, though the specific query would be different.</span></pre></div></div></div></div></div><div style="position: absolute; height: 15px; width: 1px; top: 45px;"></div><div style="display: none; height: 60px;" class="CodeMirror-gutters"></div></div></div></div><div tabindex="-1" class="text_cell_render rendered_html"><p>The
 SQL tables can now be used to group and count the trips by region 
labels.  Pandas could be used to express this query as well, though the 
specific query would be different.</p>
</div></div></div><div tabindex="2" class="cell code_cell unselected rendered"><div class="input"><div class="prompt input_prompt">In&nbsp;[8]:</div><div class="inner_cell"><div class="ctb_hideshow"><div class="celltoolbar"></div></div><div class="input_area"><div class="CodeMirror cm-s-ipython"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 5.59998px; left: 5.60001px;"><textarea tabindex="0" spellcheck="false" autocapitalize="off" autocorrect="off" wrap="off" style="position: absolute; padding: 0px; width: 1px; height: 1em; outline: medium none;"></textarea></div><div cm-not-content="true" class="CodeMirror-vscrollbar"><div style="min-width: 1px; height: 0px;"></div></div><div cm-not-content="true" class="CodeMirror-hscrollbar"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div cm-not-content="true" class="CodeMirror-scrollbar-filler"></div><div cm-not-content="true" class="CodeMirror-gutter-filler"></div><div draggable="true" tabindex="-1" class="CodeMirror-scroll"><div style="margin-left: 0px; min-width: 419px; margin-bottom: -15px; border-right-width: 15px; min-height: 113px; padding-right: 0px; padding-bottom: 0px;" class="CodeMirror-sizer"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: medium none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div style="left: 0px; top: 0px; height: 17px;" class="CodeMirror-cursor">&nbsp;</div></div><div style="" class="CodeMirror-code"><pre class=" CodeMirror-line "><span><span class="cm-variable">regions_sql</span> = <span class="cm-string">"""</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-string">    SELECT from_region, to_region, count(*) as trips</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-string">    FROM trips</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-string">    GROUP BY from_region, to_region</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-string">"""</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable">region_result</span> = <span class="cm-variable">sqlContext</span>.<span class="cm-variable">sql</span>(<span class="cm-variable">regions_sql</span>)</span></pre></div></div></div></div></div><div style="position: absolute; height: 15px; width: 1px; top: 113px;"></div><div style="display: none; height: 128px;" class="CodeMirror-gutters"></div></div></div></div></div></div><div style="display: none;" class="widget-area"><div class="prompt"><button class="close">×</button></div><div class="widget-subarea"></div></div><div class="output_wrapper"><div title="click to expand output; double click to hide output" class="out_prompt_overlay prompt" style=""></div><div style="" class="output"></div><div title="click to expand output" class="btn btn-default output_collapsed" style="display: none;">. . .</div></div></div><div tabindex="2" class="cell text_cell unselected rendered"><div class="prompt input_prompt"></div><div class="inner_cell"><div class="ctb_hideshow"><div class="celltoolbar"></div></div><div class="input_area"><div class="CodeMirror cm-s-default CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 5.59998px; left: 5.60001px;"><textarea tabindex="0" spellcheck="false" autocapitalize="off" autocorrect="off" wrap="off" style="position: absolute; padding: 0px; width: 1px; height: 1em; outline: medium none;"></textarea></div><div style="bottom: 0px;" cm-not-content="true" class="CodeMirror-vscrollbar"><div style="min-width: 1px; height: 0px;"></div></div><div cm-not-content="true" class="CodeMirror-hscrollbar"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div cm-not-content="true" class="CodeMirror-scrollbar-filler"></div><div cm-not-content="true" class="CodeMirror-gutter-filler"></div><div draggable="true" tabindex="-1" class="CodeMirror-scroll"><div style="margin-left: 0px; padding-right: 0px; padding-bottom: 0px; margin-bottom: -15px; border-right-width: 15px; min-height: 45px;" class="CodeMirror-sizer"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: medium none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div style="left: 0px; top: 0px; height: 17px;" class="CodeMirror-cursor">&nbsp;</div></div><div class="CodeMirror-code"><pre class=" CodeMirror-line "><span>One benefit of Pandas dataframes is they display automatically as a table in Jupyter notebooks.</span></pre><pre class=" CodeMirror-line "><span>This is just the first five lines of the region result.</span></pre></div></div></div></div></div><div style="position: absolute; height: 15px; width: 1px; top: 45px;"></div><div style="display: none; height: 60px;" class="CodeMirror-gutters"></div></div></div></div><div tabindex="-1" class="text_cell_render rendered_html"><p>One benefit of Pandas dataframes is they display automatically as a table in Jupyter notebooks.
This is just the first five lines of the region result.</p>
</div></div></div><div tabindex="2" class="cell code_cell unselected rendered"><div class="input"><div class="prompt input_prompt">In&nbsp;[9]:</div><div class="inner_cell"><div class="ctb_hideshow"><div class="celltoolbar"></div></div><div class="input_area"><div class="CodeMirror cm-s-ipython"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 5.59998px; left: 5.60001px;"><textarea tabindex="0" spellcheck="false" autocapitalize="off" autocorrect="off" wrap="off" style="position: absolute; padding: 0px; width: 1px; height: 1em; outline: medium none;"></textarea></div><div cm-not-content="true" class="CodeMirror-vscrollbar"><div style="min-width: 1px; height: 0px;"></div></div><div cm-not-content="true" class="CodeMirror-hscrollbar"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div cm-not-content="true" class="CodeMirror-scrollbar-filler"></div><div cm-not-content="true" class="CodeMirror-gutter-filler"></div><div draggable="true" tabindex="-1" class="CodeMirror-scroll"><div style="margin-left: 0px; min-width: 227px; margin-bottom: -15px; border-right-width: 15px; min-height: 28px; padding-right: 0px; padding-bottom: 0px;" class="CodeMirror-sizer"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: medium none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div style="left: 0px; top: 0px; height: 17px;" class="CodeMirror-cursor">&nbsp;</div></div><div class="CodeMirror-code"><pre class=" CodeMirror-line "><span><span class="cm-variable">region_result</span>.<span class="cm-variable">toPandas</span>()[:<span class="cm-number">5</span>]</span></pre></div></div></div></div></div><div style="position: absolute; height: 15px; width: 1px; top: 28px;"></div><div style="display: none; height: 43px;" class="CodeMirror-gutters"></div></div></div></div></div></div><div style="display: none;" class="widget-area"><div class="prompt"><button class="close">×</button></div><div class="widget-subarea"></div></div><div class="output_wrapper"><div title="click to expand output; double click to hide output" class="out_prompt_overlay prompt" style=""></div><div style="" class="output"><div class="output_area"><div class="prompt output_prompt">Out[9]:</div><div class="output_subarea output_html rendered_html output_result"><div>
<table class="dataframe" border="1">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>from_region</th>
      <th>to_region</th>
      <th>trips</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>DPD</td>
      <td>WF</td>
      <td>35</td>
    </tr>
    <tr>
      <th>1</th>
      <td>CH</td>
      <td>UW</td>
      <td>388</td>
    </tr>
    <tr>
      <th>2</th>
      <td>UW</td>
      <td>UW</td>
      <td>2828</td>
    </tr>
    <tr>
      <th>3</th>
      <td>CH</td>
      <td>DPD</td>
      <td>411</td>
    </tr>
    <tr>
      <th>4</th>
      <td>UW</td>
      <td>DPD</td>
      <td>212</td>
    </tr>
  </tbody>
</table>
</div></div></div></div><div title="click to expand output" class="btn btn-default output_collapsed" style="display: none;">. . .</div></div></div><div tabindex="2" class="cell text_cell unselected rendered"><div class="prompt input_prompt"></div><div class="inner_cell"><div class="ctb_hideshow"><div class="celltoolbar"></div></div><div class="input_area"><div class="CodeMirror cm-s-default CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 5.6001px; left: 5.60001px;"><textarea tabindex="0" spellcheck="false" autocapitalize="off" autocorrect="off" wrap="off" style="position: absolute; padding: 0px; width: 1px; height: 1em; outline: medium none;"></textarea></div><div style="bottom: 0px;" cm-not-content="true" class="CodeMirror-vscrollbar"><div style="min-width: 1px; height: 0px;"></div></div><div cm-not-content="true" class="CodeMirror-hscrollbar"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div cm-not-content="true" class="CodeMirror-scrollbar-filler"></div><div cm-not-content="true" class="CodeMirror-gutter-filler"></div><div draggable="true" tabindex="-1" class="CodeMirror-scroll"><div style="margin-left: 0px; padding-right: 0px; padding-bottom: 0px; margin-bottom: -15px; border-right-width: 15px; min-height: 45px;" class="CodeMirror-sizer"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: medium none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div style="left: 0px; top: 0px; height: 17px;" class="CodeMirror-cursor">&nbsp;</div></div><div class="CodeMirror-code"><pre class=" CodeMirror-line "><span>This table is easier to interpret as a cross-tabulation.</span></pre><pre class=" CodeMirror-line "><span>The cross-tabulation will also make it easier to display as a chart later.</span></pre></div></div></div></div></div><div style="position: absolute; height: 15px; width: 1px; top: 45px;"></div><div style="display: none; height: 60px;" class="CodeMirror-gutters"></div></div></div></div><div tabindex="-1" class="text_cell_render rendered_html"><p>This table is easier to interpret as a cross-tabulation.
The cross-tabulation will also make it easier to display as a chart later.</p>
</div></div></div><div tabindex="2" class="cell code_cell unselected rendered"><div class="input"><div class="prompt input_prompt">In&nbsp;[10]:</div><div class="inner_cell"><div class="ctb_hideshow"><div class="celltoolbar"></div></div><div class="input_area"><div class="CodeMirror cm-s-ipython"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 5.6001px; left: 5.60001px;"><textarea tabindex="0" spellcheck="false" autocapitalize="off" autocorrect="off" wrap="off" style="position: absolute; padding: 0px; width: 1px; height: 1em; outline: medium none;"></textarea></div><div cm-not-content="true" class="CodeMirror-vscrollbar"><div style="min-width: 1px; height: 0px;"></div></div><div cm-not-content="true" class="CodeMirror-hscrollbar"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div cm-not-content="true" class="CodeMirror-scrollbar-filler"></div><div cm-not-content="true" class="CodeMirror-gutter-filler"></div><div draggable="true" tabindex="-1" class="CodeMirror-scroll"><div style="margin-left: 0px; min-width: 579px; margin-bottom: -15px; border-right-width: 15px; min-height: 62px; padding-right: 0px; padding-bottom: 0px;" class="CodeMirror-sizer"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: medium none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div style="left: 0px; top: 0px; height: 17px;" class="CodeMirror-cursor">&nbsp;</div></div><div class="CodeMirror-code"><pre class=" CodeMirror-line "><span><span class="cm-variable">region_to_from_df</span> = <span class="cm-variable">region_result</span>.<span class="cm-variable">toPandas</span>()</span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable">region_crosstab_df</span> = <span class="cm-variable">pd</span>.<span class="cm-variable">crosstab</span>(<span class="cm-variable">trip_df</span>.<span class="cm-variable">from_region</span>, <span class="cm-variable">trip_df</span>.<span class="cm-variable">to_region</span>)</span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable">region_crosstab_df</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 15px; width: 1px; top: 62px;"></div><div style="display: none; height: 77px;" class="CodeMirror-gutters"></div></div></div></div></div></div><div style="display: none;" class="widget-area"><div class="prompt"><button class="close">×</button></div><div class="widget-subarea"></div></div><div class="output_wrapper"><div title="click to expand output; double click to hide output" class="out_prompt_overlay prompt" style=""></div><div style="" class="output"><div class="output_area"><div class="prompt output_prompt">Out[10]:</div><div class="output_subarea output_html rendered_html output_result"><div>
<table class="dataframe" border="1">
  <thead>
    <tr style="text-align: right;">
      <th>to_region</th>
      <th>BT</th>
      <th>CBD</th>
      <th>CD</th>
      <th>CH</th>
      <th>DPD</th>
      <th>EL</th>
      <th>FH</th>
      <th>ID</th>
      <th>PS</th>
      <th>Pronto shop</th>
      <th>SLU</th>
      <th>UD</th>
      <th>UW</th>
      <th>WF</th>
    </tr>
    <tr>
      <th>from_region</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>BT</th>
      <td>2200</td>
      <td>3587</td>
      <td>5</td>
      <td>728</td>
      <td>842</td>
      <td>627</td>
      <td>49</td>
      <td>180</td>
      <td>982</td>
      <td>0</td>
      <td>4809</td>
      <td>111</td>
      <td>50</td>
      <td>1503</td>
    </tr>
    <tr>
      <th>CBD</th>
      <td>2974</td>
      <td>3195</td>
      <td>27</td>
      <td>1341</td>
      <td>184</td>
      <td>305</td>
      <td>159</td>
      <td>608</td>
      <td>2174</td>
      <td>2</td>
      <td>4175</td>
      <td>75</td>
      <td>31</td>
      <td>1544</td>
    </tr>
    <tr>
      <th>CD</th>
      <td>8</td>
      <td>73</td>
      <td>13</td>
      <td>116</td>
      <td>2</td>
      <td>1</td>
      <td>36</td>
      <td>57</td>
      <td>82</td>
      <td>0</td>
      <td>17</td>
      <td>3</td>
      <td>0</td>
      <td>32</td>
    </tr>
    <tr>
      <th>CH</th>
      <td>2150</td>
      <td>6493</td>
      <td>236</td>
      <td>11698</td>
      <td>411</td>
      <td>1133</td>
      <td>1284</td>
      <td>677</td>
      <td>1502</td>
      <td>4</td>
      <td>8105</td>
      <td>594</td>
      <td>388</td>
      <td>355</td>
    </tr>
    <tr>
      <th>DPD</th>
      <td>524</td>
      <td>165</td>
      <td>3</td>
      <td>112</td>
      <td>316</td>
      <td>282</td>
      <td>12</td>
      <td>4</td>
      <td>79</td>
      <td>0</td>
      <td>1212</td>
      <td>412</td>
      <td>235</td>
      <td>35</td>
    </tr>
    <tr>
      <th>EL</th>
      <td>559</td>
      <td>244</td>
      <td>1</td>
      <td>199</td>
      <td>284</td>
      <td>1515</td>
      <td>22</td>
      <td>7</td>
      <td>82</td>
      <td>0</td>
      <td>2473</td>
      <td>601</td>
      <td>472</td>
      <td>71</td>
    </tr>
    <tr>
      <th>FH</th>
      <td>177</td>
      <td>708</td>
      <td>48</td>
      <td>1345</td>
      <td>30</td>
      <td>101</td>
      <td>231</td>
      <td>225</td>
      <td>389</td>
      <td>0</td>
      <td>568</td>
      <td>18</td>
      <td>10</td>
      <td>38</td>
    </tr>
    <tr>
      <th>ID</th>
      <td>100</td>
      <td>482</td>
      <td>18</td>
      <td>214</td>
      <td>6</td>
      <td>5</td>
      <td>80</td>
      <td>137</td>
      <td>140</td>
      <td>0</td>
      <td>132</td>
      <td>4</td>
      <td>3</td>
      <td>143</td>
    </tr>
    <tr>
      <th>PS</th>
      <td>475</td>
      <td>1372</td>
      <td>21</td>
      <td>288</td>
      <td>64</td>
      <td>53</td>
      <td>99</td>
      <td>156</td>
      <td>465</td>
      <td>0</td>
      <td>764</td>
      <td>5</td>
      <td>0</td>
      <td>960</td>
    </tr>
    <tr>
      <th>Pronto shop</th>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>SLU</th>
      <td>4365</td>
      <td>4601</td>
      <td>13</td>
      <td>1781</td>
      <td>1454</td>
      <td>2703</td>
      <td>141</td>
      <td>179</td>
      <td>1038</td>
      <td>7</td>
      <td>14944</td>
      <td>513</td>
      <td>324</td>
      <td>1340</td>
    </tr>
    <tr>
      <th>UD</th>
      <td>106</td>
      <td>69</td>
      <td>5</td>
      <td>192</td>
      <td>361</td>
      <td>575</td>
      <td>7</td>
      <td>1</td>
      <td>7</td>
      <td>0</td>
      <td>475</td>
      <td>1984</td>
      <td>1784</td>
      <td>21</td>
    </tr>
    <tr>
      <th>UW</th>
      <td>29</td>
      <td>77</td>
      <td>0</td>
      <td>195</td>
      <td>212</td>
      <td>601</td>
      <td>2</td>
      <td>1</td>
      <td>6</td>
      <td>0</td>
      <td>309</td>
      <td>1731</td>
      <td>2828</td>
      <td>29</td>
    </tr>
    <tr>
      <th>WF</th>
      <td>833</td>
      <td>1339</td>
      <td>16</td>
      <td>47</td>
      <td>32</td>
      <td>27</td>
      <td>17</td>
      <td>93</td>
      <td>1125</td>
      <td>0</td>
      <td>763</td>
      <td>28</td>
      <td>23</td>
      <td>5560</td>
    </tr>
  </tbody>
</table>
</div></div></div></div><div title="click to expand output" class="btn btn-default output_collapsed" style="display: none;">. . .</div></div></div><div tabindex="2" class="cell text_cell unselected rendered"><div class="prompt input_prompt"></div><div class="inner_cell"><div class="ctb_hideshow"><div class="celltoolbar"></div></div><div class="input_area"><div class="CodeMirror cm-s-default CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 5.59985px; left: 5.60001px;"><textarea tabindex="0" spellcheck="false" autocapitalize="off" autocorrect="off" wrap="off" style="position: absolute; padding: 0px; width: 1px; height: 1em; outline: medium none;"></textarea></div><div style="bottom: 0px;" cm-not-content="true" class="CodeMirror-vscrollbar"><div style="min-width: 1px; height: 0px;"></div></div><div cm-not-content="true" class="CodeMirror-hscrollbar"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div cm-not-content="true" class="CodeMirror-scrollbar-filler"></div><div cm-not-content="true" class="CodeMirror-gutter-filler"></div><div draggable="true" tabindex="-1" class="CodeMirror-scroll"><div style="margin-left: 0px; padding-right: 0px; padding-bottom: 0px; margin-bottom: -15px; border-right-width: 15px; min-height: 28px;" class="CodeMirror-sizer"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: medium none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div style="left: 0px; top: 0px; height: 17px;" class="CodeMirror-cursor">&nbsp;</div></div><div class="CodeMirror-code"><pre class=" CodeMirror-line "><span>For use with the javascript D3 visualization library, one last format conversion to JSON is helpful.<span class="cm-trailing-space-a"> </span><span class="cm-trailing-space-new-line"> </span></span></pre></div></div></div></div></div><div style="position: absolute; height: 15px; width: 1px; top: 28px;"></div><div style="display: none; height: 43px;" class="CodeMirror-gutters"></div></div></div></div><div tabindex="-1" class="text_cell_render rendered_html"><p>For use with the javascript D3 visualization library, one last format conversion to JSON is helpful.  </p>
</div></div></div><div tabindex="2" class="cell code_cell unselected rendered"><div class="input"><div class="prompt input_prompt">In&nbsp;[11]:</div><div class="inner_cell"><div class="ctb_hideshow"><div class="celltoolbar"></div></div><div class="input_area"><div class="CodeMirror cm-s-ipython"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 5.59985px; left: 5.60001px;"><textarea tabindex="0" spellcheck="false" autocapitalize="off" autocorrect="off" wrap="off" style="position: absolute; padding: 0px; width: 1px; height: 1em; outline: medium none;"></textarea></div><div cm-not-content="true" class="CodeMirror-vscrollbar"><div style="min-width: 1px; height: 0px;"></div></div><div cm-not-content="true" class="CodeMirror-hscrollbar"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div cm-not-content="true" class="CodeMirror-scrollbar-filler"></div><div cm-not-content="true" class="CodeMirror-gutter-filler"></div><div draggable="true" tabindex="-1" class="CodeMirror-scroll"><div style="margin-left: 0px; min-width: 739px; margin-bottom: -15px; border-right-width: 15px; min-height: 181px; padding-right: 0px; padding-bottom: 0px;" class="CodeMirror-sizer"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: medium none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div style="left: 0px; top: 0px; height: 17px;" class="CodeMirror-cursor">&nbsp;</div></div><div style="" class="CodeMirror-code"><pre class=" CodeMirror-line "><span><span class="cm-keyword">import</span> <span class="cm-variable">json</span></span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-comment"># see http://stackoverflow.com/questions/3488934/simplejson-and-numpy-array</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-keyword">class</span> <span class="cm-def">NumpyAwareJSONEncoder</span>(<span class="cm-variable">json</span>.<span class="cm-variable">JSONEncoder</span>):</span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-keyword">def</span> <span class="cm-def">default</span>(<span class="cm-variable-2">self</span>, <span class="cm-variable">obj</span>):</span></pre><pre class=" CodeMirror-line "><span>        <span class="cm-keyword">if</span> <span class="cm-builtin">isinstance</span>(<span class="cm-variable">obj</span>, <span class="cm-variable">np</span>.<span class="cm-variable">ndarray</span>) <span class="cm-keyword">and</span> <span class="cm-variable">obj</span>.<span class="cm-variable">ndim</span> <span class="cm-operator">==</span> <span class="cm-number">1</span>:</span></pre><pre class=" CodeMirror-line "><span>            <span class="cm-keyword">return</span> <span class="cm-variable">obj</span>.<span class="cm-variable">tolist</span>()</span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable">region_json</span> = <span class="cm-variable">json</span>.<span class="cm-variable">dumps</span>(<span class="cm-variable">region_crosstab_df</span>.<span class="cm-variable">as_matrix</span>().<span class="cm-variable">tolist</span>(), <span class="cm-variable-2">cls</span>=<span class="cm-variable">NumpyAwareJSONEncoder</span>)</span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable">region_labels</span> = <span class="cm-builtin">list</span>(<span class="cm-variable">region_crosstab_df</span>.<span class="cm-variable">columns</span>.<span class="cm-variable">values</span>)</span></pre></div></div></div></div></div><div style="position: absolute; height: 15px; width: 1px; top: 181px;"></div><div style="display: none; height: 196px;" class="CodeMirror-gutters"></div></div></div></div></div></div><div style="display: none;" class="widget-area"><div class="prompt"><button class="close">×</button></div><div class="widget-subarea"></div></div><div class="output_wrapper"><div title="click to expand output; double click to hide output" class="out_prompt_overlay prompt" style="display: none;"></div><div style="display: none;" class="output"></div><div title="click to expand output" class="btn btn-default output_collapsed" style="display: none;">. . .</div></div></div><div tabindex="2" class="cell text_cell unselected rendered"><div class="prompt input_prompt"></div><div class="inner_cell"><div class="ctb_hideshow"><div class="celltoolbar"></div></div><div class="input_area"><div class="CodeMirror cm-s-default CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 5.59985px; left: 5.60001px;"><textarea tabindex="0" spellcheck="false" autocapitalize="off" autocorrect="off" wrap="off" style="position: absolute; padding: 0px; width: 1px; height: 1em; outline: medium none;"></textarea></div><div style="bottom: 0px;" cm-not-content="true" class="CodeMirror-vscrollbar"><div style="min-width: 1px; height: 0px;"></div></div><div cm-not-content="true" class="CodeMirror-hscrollbar"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div cm-not-content="true" class="CodeMirror-scrollbar-filler"></div><div cm-not-content="true" class="CodeMirror-gutter-filler"></div><div draggable="true" tabindex="-1" class="CodeMirror-scroll"><div style="margin-left: 0px; padding-right: 0px; padding-bottom: 0px; margin-bottom: -15px; border-right-width: 15px; min-height: 96px;" class="CodeMirror-sizer"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: medium none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div style="left: 0px; top: 0px; height: 17px;" class="CodeMirror-cursor">&nbsp;</div></div><div class="CodeMirror-code"><pre class=" CodeMirror-line "><span>The following section is based on a demonstration by Ariel Keselman on integrating the D3 javascript library with IPython/Jupyter notebooks, specifically with chord charts.</span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span>Note that in the current version of this notebook, the json matrix and region labels have been copied to the javascript template by hand.</span></pre></div></div></div></div></div><div style="position: absolute; height: 15px; width: 1px; top: 96px;"></div><div style="display: none; height: 111px;" class="CodeMirror-gutters"></div></div></div></div><div tabindex="-1" class="text_cell_render rendered_html"><p>The
 following section is based on a demonstration by Ariel Keselman on 
integrating the D3 javascript library with IPython/Jupyter notebooks, 
specifically with chord charts.</p>
<p>Note that in the current version of this notebook, the json matrix 
and region labels have been copied to the javascript template by hand.</p>
</div></div></div><div tabindex="2" class="cell code_cell unselected rendered"><div class="input"><div class="prompt input_prompt">In&nbsp;[12]:</div><div class="inner_cell"><div class="ctb_hideshow"><div class="celltoolbar"></div></div><div class="input_area"><div class="CodeMirror cm-s-ipython"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 5.59985px; left: 5.60001px;"><textarea tabindex="0" spellcheck="false" autocapitalize="off" autocorrect="off" wrap="off" style="position: absolute; padding: 0px; width: 1px; height: 1em; outline: medium none;"></textarea></div><div style="bottom: 0px;" cm-not-content="true" class="CodeMirror-vscrollbar"><div style="min-width: 1px; height: 0px;"></div></div><div cm-not-content="true" class="CodeMirror-hscrollbar"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div cm-not-content="true" class="CodeMirror-scrollbar-filler"></div><div cm-not-content="true" class="CodeMirror-gutter-filler"></div><div draggable="true" tabindex="-1" class="CodeMirror-scroll"><div style="margin-left: 0px; min-width: 851px; margin-bottom: -15px; border-right-width: 15px; min-height: 657px; padding-right: 0px; padding-bottom: 0px;" class="CodeMirror-sizer"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: medium none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div style="left: 0px; top: 0px; height: 17px;" class="CodeMirror-cursor">&nbsp;</div></div><div style="" class="CodeMirror-code"><pre class=" CodeMirror-line "><span><span class="cm-comment"># This section is modified from https://github.com/skariel/IPython_d3_js_demo/blob/master/d3_js_demo.ipynb</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-keyword">from</span> <span class="cm-variable">IPython</span>.<span class="cm-variable">display</span> <span class="cm-keyword">import</span> <span class="cm-variable">IFrame</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-keyword">import</span> <span class="cm-variable">re</span></span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-keyword">def</span> <span class="cm-def">replace_all</span>(<span class="cm-variable">txt</span>,<span class="cm-variable">d</span>):</span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-variable">rep</span> = <span class="cm-builtin">dict</span>((<span class="cm-variable">re</span>.<span class="cm-variable">escape</span>(<span class="cm-string">'{'</span><span class="cm-operator">+</span><span class="cm-variable">k</span><span class="cm-operator">+</span><span class="cm-string">'}'</span>), <span class="cm-builtin">str</span>(<span class="cm-variable">v</span>)) <span class="cm-keyword">for</span> <span class="cm-variable">k</span>, <span class="cm-variable">v</span> <span class="cm-keyword">in</span> <span class="cm-variable">d</span>.<span class="cm-variable">items</span>())</span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-variable">pattern</span> = <span class="cm-variable">re</span>.<span class="cm-builtin">compile</span>(<span class="cm-string">"|"</span>.<span class="cm-variable">join</span>(<span class="cm-variable">rep</span>.<span class="cm-variable">keys</span>()))</span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-keyword">return</span> <span class="cm-variable">pattern</span>.<span class="cm-variable">sub</span>(<span class="cm-keyword">lambda</span> <span class="cm-variable">m</span>: <span class="cm-variable">rep</span>[<span class="cm-variable">re</span>.<span class="cm-variable">escape</span>(<span class="cm-variable">m</span>.<span class="cm-variable">group</span>(<span class="cm-number">0</span>))], <span class="cm-variable">txt</span>)    </span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable">count</span>=<span class="cm-number">0</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-keyword">def</span> <span class="cm-def">serve_html</span>(<span class="cm-variable">s</span>,<span class="cm-variable">w</span>,<span class="cm-variable">h</span>):</span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-keyword">import</span> <span class="cm-variable">os</span></span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-keyword">global</span> <span class="cm-variable">count</span></span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-variable">count</span>+=<span class="cm-number">1</span></span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-variable">fn</span>= <span class="cm-string">'__tmp'</span><span class="cm-operator">+</span><span class="cm-builtin">str</span>(<span class="cm-variable">os</span>.<span class="cm-variable">getpid</span>())<span class="cm-operator">+</span><span class="cm-string">'_'</span><span class="cm-operator">+</span><span class="cm-builtin">str</span>(<span class="cm-variable">count</span>)<span class="cm-operator">+</span><span class="cm-string">'.html'</span></span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-keyword">with</span> <span class="cm-builtin">open</span>(<span class="cm-variable">fn</span>,<span class="cm-string">'w'</span>) <span class="cm-keyword">as</span> <span class="cm-variable">f</span>:</span></pre><pre class=" CodeMirror-line "><span>        <span class="cm-variable">f</span>.<span class="cm-variable">write</span>(<span class="cm-variable">s</span>)</span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-variable">fn</span> = <span class="cm-string">'__tmp22236_1.html'</span></span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-keyword">return</span> <span class="cm-variable">IFrame</span>(<span class="cm-string">'files/'</span><span class="cm-operator">+</span><span class="cm-variable">fn</span>,<span class="cm-variable">w</span>,<span class="cm-variable">h</span>)</span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-keyword">def</span> <span class="cm-def">chord_chart</span>(<span class="cm-variable">w</span>=<span class="cm-number">800</span>,</span></pre><pre class=" CodeMirror-line "><span>                <span class="cm-variable">h</span>=<span class="cm-number">800</span>,</span></pre><pre class=" CodeMirror-line "><span>                <span class="cm-variable">ball_count</span>=<span class="cm-number">150</span>,</span></pre><pre class=" CodeMirror-line "><span>                <span class="cm-variable">rad_min</span>=<span class="cm-number">2</span>,</span></pre><pre class=" CodeMirror-line "><span>                <span class="cm-variable">rad_fac</span>=<span class="cm-number">11</span>,</span></pre><pre class=" CodeMirror-line "><span>                <span class="cm-variable">color_count</span>=<span class="cm-number">14</span>):</span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-variable">d</span>={</span></pre><pre class=" CodeMirror-line "><span>       <span class="cm-string">'width'</span>      :<span class="cm-variable">w</span>,</span></pre><pre class=" CodeMirror-line "><span>       <span class="cm-string">'height'</span>     :<span class="cm-variable">h</span>,</span></pre><pre class=" CodeMirror-line "><span>       <span class="cm-string">'ball_count'</span> :<span class="cm-variable">ball_count</span>,</span></pre><pre class=" CodeMirror-line "><span>       <span class="cm-string">'rad_min'</span>    :<span class="cm-variable">rad_min</span>,</span></pre><pre class=" CodeMirror-line "><span>       <span class="cm-string">'rad_fac'</span>    :<span class="cm-variable">rad_fac</span>,</span></pre><pre class=" CodeMirror-line "><span>       <span class="cm-string">'color_count'</span>:<span class="cm-variable">color_count</span></span></pre><pre class=" CodeMirror-line "><span>       }</span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-keyword">with</span> <span class="cm-builtin">open</span>(<span class="cm-string">'chord.template'</span>,<span class="cm-string">'r'</span>) <span class="cm-keyword">as</span> <span class="cm-variable">f</span>:</span></pre><pre class=" CodeMirror-line "><span>        <span class="cm-variable">s</span>=<span class="cm-variable">f</span>.<span class="cm-variable">read</span>()</span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-variable">s</span>= <span class="cm-variable">replace_all</span>(<span class="cm-variable">s</span>,<span class="cm-variable">d</span>)        </span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-keyword">return</span> <span class="cm-variable">serve_html</span>(<span class="cm-variable">s</span>,<span class="cm-variable">w</span><span class="cm-operator">+</span><span class="cm-number">30</span>,<span class="cm-variable">h</span><span class="cm-operator">+</span><span class="cm-number">30</span>)</span></pre></div></div></div></div></div><div style="position: absolute; height: 15px; width: 1px; top: 657px;"></div><div style="display: none; height: 672px;" class="CodeMirror-gutters"></div></div></div></div></div></div><div style="display: none;" class="widget-area"><div class="prompt"><button class="close">×</button></div><div class="widget-subarea"></div></div><div class="output_wrapper"><div title="click to expand output; double click to hide output" class="out_prompt_overlay prompt" style="display: none;"></div><div style="display: none;" class="output"></div><div title="click to expand output" class="btn btn-default output_collapsed" style="display: none;">. . .</div></div></div><div tabindex="2" class="cell text_cell unselected rendered"><div class="prompt input_prompt"></div><div class="inner_cell"><div class="ctb_hideshow"><div class="celltoolbar"></div></div><div class="input_area"><div class="CodeMirror cm-s-default CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 5.6001px; left: 5.60001px;"><textarea tabindex="0" spellcheck="false" autocapitalize="off" autocorrect="off" wrap="off" style="position: absolute; padding: 0px; width: 1px; height: 1em; outline: medium none;"></textarea></div><div style="bottom: 0px;" cm-not-content="true" class="CodeMirror-vscrollbar"><div style="min-width: 1px; height: 0px;"></div></div><div cm-not-content="true" class="CodeMirror-hscrollbar"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div cm-not-content="true" class="CodeMirror-scrollbar-filler"></div><div cm-not-content="true" class="CodeMirror-gutter-filler"></div><div draggable="true" tabindex="-1" class="CodeMirror-scroll"><div style="margin-left: 0px; padding-right: 0px; padding-bottom: 0px; margin-bottom: -15px; border-right-width: 15px; min-height: 31px;" class="CodeMirror-sizer"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: medium none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div style="left: 0px; top: 0px; height: 20px;" class="CodeMirror-cursor">&nbsp;</div></div><div class="CodeMirror-code"><pre class=" CodeMirror-line "><span><span class="cm-header cm-header-2">## Note: unfortunately the chart will not render in a static notebook, such as on github.</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 15px; width: 1px; top: 31px;"></div><div style="display: none; height: 46px;" class="CodeMirror-gutters"></div></div></div></div><div tabindex="-1" class="text_cell_render rendered_html"><h2 id="Note:-unfortunately-the-chart-will-not-render-in-a-static-notebook,-such-as-on-github.">Note: unfortunately the chart will not render in a static notebook, such as on github.<a href="#Note:-unfortunately-the-chart-will-not-render-in-a-static-notebook,-such-as-on-github." class="anchor-link">¶</a></h2>
</div></div></div><div tabindex="2" class="cell text_cell unselected rendered"><div class="prompt input_prompt"></div><div class="inner_cell"><div class="ctb_hideshow"><div class="celltoolbar"></div></div><div class="input_area"><div class="CodeMirror cm-s-default CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 5.6001px; left: 5.60001px;"><textarea tabindex="0" spellcheck="false" autocapitalize="off" autocorrect="off" wrap="off" style="position: absolute; padding: 0px; width: 1px; height: 1em; outline: medium none;"></textarea></div><div style="bottom: 0px;" cm-not-content="true" class="CodeMirror-vscrollbar"><div style="min-width: 1px; height: 0px;"></div></div><div cm-not-content="true" class="CodeMirror-hscrollbar"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div cm-not-content="true" class="CodeMirror-scrollbar-filler"></div><div cm-not-content="true" class="CodeMirror-gutter-filler"></div><div draggable="true" tabindex="-1" class="CodeMirror-scroll"><div style="margin-left: 0px; padding-right: 0px; padding-bottom: 0px; margin-bottom: -15px; border-right-width: 15px; min-height: 181px;" class="CodeMirror-sizer"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: medium none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div style="left: 0px; top: 0px; height: 17px;" class="CodeMirror-cursor">&nbsp;</div></div><div class="CodeMirror-code"><pre class=" CodeMirror-line "><span>The arcs around the perimeter represent the region labels for the stations, and their size represents the number of trips.  The paths between regions represent all the intra-region trips.  The width of the path where it touches a region arc is the number of trips originating in that region.  If you hover over a region trips in other regions will be dimmed.</span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span>At first glance this chart has a few noticable features.  The large number of intra-region trips stands out, though several smaller regions are exceptions (First Hill, Belltown and Central Business District.  Some regions, such as UW and UD are tightly connected only to each other.  Capitol Hill does originate more trips to South Lake Union, the Central Business District and Belltown than return, but the effect doesn't dominate the chart.  Pioneer Square has very even connections to other regions, which may be a function of the Second Avenue protected bike lane.</span></pre></div></div></div></div></div><div style="position: absolute; height: 15px; width: 1px; top: 181px;"></div><div style="display: none; height: 196px;" class="CodeMirror-gutters"></div></div></div></div><div tabindex="-1" class="text_cell_render rendered_html"><p>The
 arcs around the perimeter represent the region labels for the stations,
 and their size represents the number of trips.  The paths between 
regions represent all the intra-region trips.  The width of the path 
where it touches a region arc is the number of trips originating in that
 region.  If you hover over a region trips in other regions will be 
dimmed.</p>
<p>At first glance this chart has a few noticable features.  The large 
number of intra-region trips stands out, though several smaller regions 
are exceptions (First Hill, Belltown and Central Business District.  
Some regions, such as UW and UD are tightly connected only to each 
other.  Capitol Hill does originate more trips to South Lake Union, the 
Central Business District and Belltown than return, but the effect 
doesn't dominate the chart.  Pioneer Square has very even connections to
 other regions, which may be a function of the Second Avenue protected 
bike lane.</p>
</div></div></div><div tabindex="2" class="cell code_cell unselected rendered"><div class="input"><div class="prompt input_prompt">In&nbsp;[13]:</div><div class="inner_cell"><div class="ctb_hideshow"><div class="celltoolbar"></div></div><div class="input_area"><div class="CodeMirror cm-s-ipython"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 5.6001px; left: 5.60001px;"><textarea tabindex="0" spellcheck="false" autocapitalize="off" autocorrect="off" wrap="off" style="position: absolute; padding: 0px; width: 1px; height: 1em; outline: medium none;"></textarea></div><div cm-not-content="true" class="CodeMirror-vscrollbar"><div style="min-width: 1px; height: 0px;"></div></div><div cm-not-content="true" class="CodeMirror-hscrollbar"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div cm-not-content="true" class="CodeMirror-scrollbar-filler"></div><div cm-not-content="true" class="CodeMirror-gutter-filler"></div><div draggable="true" tabindex="-1" class="CodeMirror-scroll"><div style="margin-left: 0px; min-width: 635px; margin-bottom: -15px; border-right-width: 15px; min-height: 28px; padding-right: 0px; padding-bottom: 0px;" class="CodeMirror-sizer"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: medium none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div style="left: 0px; top: 0px; height: 17px;" class="CodeMirror-cursor">&nbsp;</div></div><div class="CodeMirror-code"><pre class=" CodeMirror-line "><span><span class="cm-variable">chord_chart</span>(<span class="cm-variable">ball_count</span>=<span class="cm-number">30</span>, <span class="cm-variable">color_count</span>=<span class="cm-number">14</span>, <span class="cm-variable">rad_fac</span>=<span class="cm-number">10</span>, <span class="cm-variable">rad_min</span>=<span class="cm-number">3</span>, <span class="cm-variable">w</span>=<span class="cm-number">800</span>, <span class="cm-variable">h</span>=<span class="cm-number">800</span>)</span></pre></div></div></div></div></div><div style="position: absolute; height: 15px; width: 1px; top: 28px;"></div><div style="display: none; height: 43px;" class="CodeMirror-gutters"></div></div></div></div></div></div><div style="display: none;" class="widget-area"><div class="prompt"><button class="close">×</button></div><div class="widget-subarea"></div></div><div class="output_wrapper"><div title="click to expand output; double click to hide output" class="out_prompt_overlay prompt" style=""></div><div style="" class="output"><div class="output_area"><div class="prompt output_prompt">Out[13]:</div><div class="output_subarea output_html rendered_html output_result">
        <iframe src="Pronto.ipynb_files/__tmp22236_1.html" allowfullscreen="" frameborder="0" height="830" width="830"></iframe>
        </div></div></div><div title="click to expand output" class="btn btn-default output_collapsed" style="display: none;">. . .</div></div></div><div tabindex="2" class="cell text_cell unselected rendered"><div class="prompt input_prompt"></div><div class="inner_cell"><div class="ctb_hideshow"><div class="celltoolbar"></div></div><div class="input_area"><div class="CodeMirror cm-s-default CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 5.59961px; left: 5.60001px;"><textarea tabindex="0" spellcheck="false" autocapitalize="off" autocorrect="off" wrap="off" style="position: absolute; padding: 0px; width: 1px; height: 1em; outline: medium none;"></textarea></div><div style="bottom: 0px;" cm-not-content="true" class="CodeMirror-vscrollbar"><div style="min-width: 1px; height: 0px;"></div></div><div cm-not-content="true" class="CodeMirror-hscrollbar"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div cm-not-content="true" class="CodeMirror-scrollbar-filler"></div><div cm-not-content="true" class="CodeMirror-gutter-filler"></div><div draggable="true" tabindex="-1" class="CodeMirror-scroll"><div style="margin-left: 0px; padding-right: 0px; padding-bottom: 0px; margin-bottom: -15px; border-right-width: 15px; min-height: 62px;" class="CodeMirror-sizer"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: medium none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div style="left: 0px; top: 0px; height: 17px;" class="CodeMirror-cursor">&nbsp;</div></div><div class="CodeMirror-code"><pre class=" CodeMirror-line "><span>The thing to remember is the size of the regions in the chart above is based on the number of trips.  Another query can show how many stations are in each region.  This query also assigns random colors (different from the chart above) for use later.</span></pre></div></div></div></div></div><div style="position: absolute; height: 15px; width: 1px; top: 62px;"></div><div style="display: none; height: 77px;" class="CodeMirror-gutters"></div></div></div></div><div tabindex="-1" class="text_cell_render rendered_html"><p>The
 thing to remember is the size of the regions in the chart above is 
based on the number of trips.  Another query can show how many stations 
are in each region.  This query also assigns random colors (different 
from the chart above) for use later.</p>
</div></div></div><div tabindex="2" class="cell code_cell unselected rendered"><div class="input"><div class="prompt input_prompt">In&nbsp;[14]:</div><div class="inner_cell"><div class="ctb_hideshow"><div class="celltoolbar"></div></div><div class="input_area"><div class="CodeMirror cm-s-ipython"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 5.59961px; left: 5.60001px;"><textarea tabindex="0" spellcheck="false" autocapitalize="off" autocorrect="off" wrap="off" style="position: absolute; padding: 0px; width: 1px; height: 1em; outline: medium none;"></textarea></div><div style="bottom: 0px;" cm-not-content="true" class="CodeMirror-vscrollbar"><div style="min-width: 1px; height: 0px;"></div></div><div cm-not-content="true" class="CodeMirror-hscrollbar"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div cm-not-content="true" class="CodeMirror-scrollbar-filler"></div><div cm-not-content="true" class="CodeMirror-gutter-filler"></div><div draggable="true" tabindex="-1" class="CodeMirror-scroll"><div style="margin-left: 0px; min-width: 579px; margin-bottom: -15px; border-right-width: 15px; min-height: 249px; padding-right: 0px; padding-bottom: 0px;" class="CodeMirror-sizer"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: medium none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div style="left: 0px; top: 0px; height: 17px;" class="CodeMirror-cursor">&nbsp;</div></div><div style="" class="CodeMirror-code"><pre class=" CodeMirror-line "><span><span class="cm-variable">stations_per_region_sql</span> = <span class="cm-string">"""</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-string">    SELECT region, count(*) as n_stations</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-string">    FROM stations</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-string">    GROUP BY region</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-string">"""</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable">stations_per_region</span> = <span class="cm-variable">sqlContext</span>.<span class="cm-variable">sql</span>(<span class="cm-variable">stations_per_region_sql</span>).<span class="cm-variable">toPandas</span>()</span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-keyword">import</span> <span class="cm-variable">random</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable">random</span>.<span class="cm-variable">seed</span>(<span class="cm-number">20151115</span>)</span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable">stations_per_region</span>.<span class="cm-variable">loc</span>[:,<span class="cm-string">'color'</span>] = <span class="cm-variable">stations_per_region</span>.<span class="cm-variable">iloc</span>[:,<span class="cm-number">0</span>].<span class="cm-builtin">map</span>(</span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-keyword">lambda</span> <span class="cm-variable">n</span>: <span class="cm-string">'#%02X%02X%02X'</span> <span class="cm-operator">%</span> (<span class="cm-variable">random</span>.<span class="cm-variable">randint</span>(<span class="cm-number">0</span>,<span class="cm-number">255</span>),</span></pre><pre class=" CodeMirror-line "><span>                                 <span class="cm-variable">random</span>.<span class="cm-variable">randint</span>(<span class="cm-number">0</span>,<span class="cm-number">255</span>),</span></pre><pre class=" CodeMirror-line "><span>                                 <span class="cm-variable">random</span>.<span class="cm-variable">randint</span>(<span class="cm-number">0</span>,<span class="cm-number">255</span>)))</span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable">stations_per_region</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 15px; width: 1px; top: 249px;"></div><div style="display: none; height: 264px;" class="CodeMirror-gutters"></div></div></div></div></div></div><div style="display: none;" class="widget-area"><div class="prompt"><button class="close">×</button></div><div class="widget-subarea"></div></div><div class="output_wrapper"><div title="click to expand output; double click to hide output" class="out_prompt_overlay prompt" style=""></div><div style="" class="output"><div class="output_area"><div class="prompt output_prompt">Out[14]:</div><div class="output_subarea output_html rendered_html output_result"><div>
<table class="dataframe" border="1">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>region</th>
      <th>n_stations</th>
      <th>color</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>UD</td>
      <td>4</td>
      <td>#C9BE53</td>
    </tr>
    <tr>
      <th>1</th>
      <td>UW</td>
      <td>6</td>
      <td>#7557AA</td>
    </tr>
    <tr>
      <th>2</th>
      <td>DPD</td>
      <td>2</td>
      <td>#D84B0A</td>
    </tr>
    <tr>
      <th>3</th>
      <td>BT</td>
      <td>4</td>
      <td>#A8C00D</td>
    </tr>
    <tr>
      <th>4</th>
      <td>ID</td>
      <td>1</td>
      <td>#3A949E</td>
    </tr>
    <tr>
      <th>5</th>
      <td>CBD</td>
      <td>6</td>
      <td>#E861ED</td>
    </tr>
    <tr>
      <th>6</th>
      <td>CD</td>
      <td>1</td>
      <td>#CB3C65</td>
    </tr>
    <tr>
      <th>7</th>
      <td>CH</td>
      <td>10</td>
      <td>#D64025</td>
    </tr>
    <tr>
      <th>8</th>
      <td>PS</td>
      <td>2</td>
      <td>#C1F771</td>
    </tr>
    <tr>
      <th>9</th>
      <td>WF</td>
      <td>2</td>
      <td>#7F7B14</td>
    </tr>
    <tr>
      <th>10</th>
      <td>EL</td>
      <td>3</td>
      <td>#ED8E33</td>
    </tr>
    <tr>
      <th>11</th>
      <td>SLU</td>
      <td>11</td>
      <td>#1D487F</td>
    </tr>
    <tr>
      <th>12</th>
      <td>FH</td>
      <td>2</td>
      <td>#B318E2</td>
    </tr>
  </tbody>
</table>
</div></div></div></div><div title="click to expand output" class="btn btn-default output_collapsed" style="display: none;">. . .</div></div></div><div tabindex="2" class="cell text_cell unselected rendered"><div class="prompt input_prompt"></div><div class="inner_cell"><div class="ctb_hideshow"><div class="celltoolbar"></div></div><div class="input_area"><div class="CodeMirror cm-s-default CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 5.6001px; left: 5.60001px;"><textarea tabindex="0" spellcheck="false" autocapitalize="off" autocorrect="off" wrap="off" style="position: absolute; padding: 0px; width: 1px; height: 1em; outline: medium none;"></textarea></div><div style="bottom: 0px;" cm-not-content="true" class="CodeMirror-vscrollbar"><div style="min-width: 1px; height: 0px;"></div></div><div cm-not-content="true" class="CodeMirror-hscrollbar"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div cm-not-content="true" class="CodeMirror-scrollbar-filler"></div><div cm-not-content="true" class="CodeMirror-gutter-filler"></div><div draggable="true" tabindex="-1" class="CodeMirror-scroll"><div style="margin-left: 0px; padding-right: 0px; padding-bottom: 0px; margin-bottom: -15px; border-right-width: 15px; min-height: 130px;" class="CodeMirror-sizer"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: medium none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div style="left: 0px; top: 0px; height: 17px;" class="CodeMirror-cursor">&nbsp;</div></div><div class="CodeMirror-code"><pre class=" CodeMirror-line "><span>This shows that South Lake Union is a group of only ten stations.  It's the same for Capitol Hill.  UW and the University District combined are also 10 stations.  Pioneer square has only two stations, but they seem to be serving a distinct purpose, as are the four BT stations and the two waterfront stations.</span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span>My immediate concern is whether we currently have three network fragments (UW/UD, Capitol Hill and SLU/CBD/BT) rather than one dense network.  The data does have enough information to check how our network is performing compared to some existing networks in the US. This will be the topic of the next chart.</span></pre></div></div></div></div></div><div style="position: absolute; height: 15px; width: 1px; top: 130px;"></div><div style="display: none; height: 145px;" class="CodeMirror-gutters"></div></div></div></div><div tabindex="-1" class="text_cell_render rendered_html"><p>This
 shows that South Lake Union is a group of only ten stations.  It's the 
same for Capitol Hill.  UW and the University District combined are also
 10 stations.  Pioneer square has only two stations, but they seem to be
 serving a distinct purpose, as are the four BT stations and the two 
waterfront stations.</p>
<p>My immediate concern is whether we currently have three network 
fragments (UW/UD, Capitol Hill and SLU/CBD/BT) rather than one dense 
network.  The data does have enough information to check how our network
 is performing compared to some existing networks in the US. This will 
be the topic of the next chart.</p>
</div></div></div><div tabindex="2" class="cell text_cell unselected rendered"><div class="prompt input_prompt"></div><div class="inner_cell"><div class="ctb_hideshow"><div class="celltoolbar"></div></div><div class="input_area"><div class="CodeMirror cm-s-default CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 5.6001px; left: 5.60001px;"><textarea tabindex="0" spellcheck="false" autocapitalize="off" autocorrect="off" wrap="off" style="position: absolute; padding: 0px; width: 1px; height: 1em; outline: medium none;"></textarea></div><div style="bottom: 0px;" cm-not-content="true" class="CodeMirror-vscrollbar"><div style="min-width: 1px; height: 0px;"></div></div><div cm-not-content="true" class="CodeMirror-hscrollbar"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div cm-not-content="true" class="CodeMirror-scrollbar-filler"></div><div cm-not-content="true" class="CodeMirror-gutter-filler"></div><div draggable="true" tabindex="-1" class="CodeMirror-scroll"><div style="margin-left: 0px; padding-right: 0px; padding-bottom: 0px; margin-bottom: -15px; border-right-width: 15px; min-height: 150px;" class="CodeMirror-sizer"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: medium none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div style="left: 0px; top: 0px; height: 20px;" class="CodeMirror-cursor">&nbsp;</div></div><div style="" class="CodeMirror-code"><pre class=" CodeMirror-line "><span><span class="cm-header cm-header-2">## 15 Minute Destinations</span></span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span>Analysis of other bike share networks shows that usage statistics rise non-linearly with station density.  <span class="cm-link">http://nacto.org/wp-content/uploads/2015/09/NACTO_Walkable-Station-Spacing-Is-Key-For-Bike-Share_Sc.pdf</span></span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span>The following query simply counts station pairs</span></pre><pre class=" CodeMirror-line "><span>that have had a trip of less than 15 minutes.</span></pre><pre class=" CodeMirror-line "><span>They are then grouped and sorted from most destinations to least. </span></pre></div></div></div></div></div><div style="position: absolute; height: 15px; width: 1px; top: 150px;"></div><div style="display: none; height: 165px;" class="CodeMirror-gutters"></div></div></div></div><div tabindex="-1" class="text_cell_render rendered_html"><h2 id="15-Minute-Destinations">15 Minute Destinations<a href="#15-Minute-Destinations" class="anchor-link">¶</a></h2>
<p>Analysis of other bike share networks shows that usage statistics rise non-linearly with station density.  <a target="_blank" href="http://nacto.org/wp-content/uploads/2015/09/NACTO_Walkable-Station-Spacing-Is-Key-For-Bike-Share_Sc.pdf">http://nacto.org/wp-content/uploads/2015/09/NACTO_Walkable-Station-Spacing-Is-Key-For-Bike-Share_Sc.pdf</a></p>
<p>The following query simply counts station pairs
that have had a trip of less than 15 minutes.
They are then grouped and sorted from most destinations to least. </p>
</div></div></div><div tabindex="2" class="cell code_cell unselected rendered"><div class="input"><div class="prompt input_prompt">In&nbsp;[15]:</div><div class="inner_cell"><div class="ctb_hideshow"><div class="celltoolbar"></div></div><div class="input_area"><div class="CodeMirror cm-s-ipython"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 5.6001px; left: 5.60001px;"><textarea tabindex="0" spellcheck="false" autocapitalize="off" autocorrect="off" wrap="off" style="position: absolute; padding: 0px; width: 1px; height: 1em; outline: medium none;"></textarea></div><div style="bottom: 0px;" cm-not-content="true" class="CodeMirror-vscrollbar"><div style="min-width: 1px; height: 0px;"></div></div><div cm-not-content="true" class="CodeMirror-hscrollbar"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div cm-not-content="true" class="CodeMirror-scrollbar-filler"></div><div cm-not-content="true" class="CodeMirror-gutter-filler"></div><div draggable="true" tabindex="-1" class="CodeMirror-scroll"><div style="margin-left: 0px; min-width: 587px; margin-bottom: -15px; border-right-width: 15px; min-height: 215px; padding-right: 0px; padding-bottom: 0px;" class="CodeMirror-sizer"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: medium none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div style="left: 0px; top: 0px; height: 17px;" class="CodeMirror-cursor">&nbsp;</div></div><div style="" class="CodeMirror-code"><pre class=" CodeMirror-line "><span><span class="cm-variable">stations_within_15_min_sql</span> = <span class="cm-string">"""</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-string">    SELECT DISTINCT from_station_id as station_id,</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-string">                    from_station_name as station_name,</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-string">                    count(DISTINCT to_station_id) as destinations</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-string">    FROM trips</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-string">    WHERE tripduration &lt;= (15*60)</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-string">    AND from_station_id != to_station_id</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-string">    GROUP BY from_station_id, from_station_name</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-string">    ORDER BY destinations DESC</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-string">"""</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable">n_destinations_df</span> = <span class="cm-variable">sqlContext</span>.<span class="cm-variable">sql</span>(<span class="cm-variable">stations_within_15_min_sql</span>).<span class="cm-variable">toPandas</span>()</span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable">n_destinations_df</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 15px; width: 1px; top: 215px;"></div><div style="display: none; height: 230px;" class="CodeMirror-gutters"></div></div></div></div></div></div><div style="display: none;" class="widget-area"><div class="prompt"><button class="close">×</button></div><div class="widget-subarea"></div></div><div class="output_wrapper"><div title="click to expand output; double click to hide output" class="out_prompt_overlay prompt" style=""></div><div style="" class="output"><div class="output_area"><div class="prompt output_prompt">Out[15]:</div><div class="output_subarea output_html rendered_html output_result"><div>
<table class="dataframe" border="1">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>station_id</th>
      <th>station_name</th>
      <th>destinations</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>CH-05</td>
      <td>15th Ave E &amp; E Thomas St</td>
      <td>44</td>
    </tr>
    <tr>
      <th>1</th>
      <td>CH-02</td>
      <td>E Harrison St &amp; Broadway Ave E</td>
      <td>43</td>
    </tr>
    <tr>
      <th>2</th>
      <td>CH-03</td>
      <td>Summit Ave E &amp; E Republican St</td>
      <td>43</td>
    </tr>
    <tr>
      <th>3</th>
      <td>CH-01</td>
      <td>Summit Ave &amp; E Denny Way</td>
      <td>42</td>
    </tr>
    <tr>
      <th>4</th>
      <td>SLU-01</td>
      <td>REI / Yale Ave N &amp; John St</td>
      <td>42</td>
    </tr>
    <tr>
      <th>5</th>
      <td>CH-08</td>
      <td>Cal Anderson Park / 11th Ave &amp; Pine St</td>
      <td>42</td>
    </tr>
    <tr>
      <th>6</th>
      <td>CH-15</td>
      <td>12th Ave &amp; E Mercer St</td>
      <td>42</td>
    </tr>
    <tr>
      <th>7</th>
      <td>CH-12</td>
      <td>Bellevue Ave &amp; E Pine St</td>
      <td>41</td>
    </tr>
    <tr>
      <th>8</th>
      <td>CH-07</td>
      <td>E Pine St &amp; 16th Ave</td>
      <td>41</td>
    </tr>
    <tr>
      <th>9</th>
      <td>SLU-16</td>
      <td>Pine St &amp; 9th Ave</td>
      <td>40</td>
    </tr>
    <tr>
      <th>10</th>
      <td>CBD-03</td>
      <td>7th Ave &amp; Union St</td>
      <td>40</td>
    </tr>
    <tr>
      <th>11</th>
      <td>SLU-15</td>
      <td>Westlake Ave &amp; 6th Ave</td>
      <td>39</td>
    </tr>
    <tr>
      <th>12</th>
      <td>CH-06</td>
      <td>12th Ave &amp; E Denny Way</td>
      <td>39</td>
    </tr>
    <tr>
      <th>13</th>
      <td>CH-09</td>
      <td>Harvard Ave &amp; E Pine St</td>
      <td>39</td>
    </tr>
    <tr>
      <th>14</th>
      <td>CBD-13</td>
      <td>2nd Ave &amp; Pine St</td>
      <td>39</td>
    </tr>
    <tr>
      <th>15</th>
      <td>SLU-07</td>
      <td>PATH / 9th Ave &amp; Westlake Ave</td>
      <td>38</td>
    </tr>
    <tr>
      <th>16</th>
      <td>SLU-20</td>
      <td>Terry Ave &amp; Stewart St</td>
      <td>37</td>
    </tr>
    <tr>
      <th>17</th>
      <td>CBD-06</td>
      <td>2nd Ave &amp; Spring St</td>
      <td>37</td>
    </tr>
    <tr>
      <th>18</th>
      <td>BT-05</td>
      <td>2nd Ave &amp; Blanchard St</td>
      <td>36</td>
    </tr>
    <tr>
      <th>19</th>
      <td>FH-01</td>
      <td>Frye Art Museum / Terry Ave &amp; Columbia St</td>
      <td>36</td>
    </tr>
    <tr>
      <th>20</th>
      <td>CBD-04</td>
      <td>Union St &amp; 4th Ave</td>
      <td>35</td>
    </tr>
    <tr>
      <th>21</th>
      <td>BT-04</td>
      <td>6th Ave &amp; Blanchard St</td>
      <td>35</td>
    </tr>
    <tr>
      <th>22</th>
      <td>SLU-18</td>
      <td>Dexter Ave &amp; Denny Way</td>
      <td>34</td>
    </tr>
    <tr>
      <th>23</th>
      <td>SLU-04</td>
      <td>Republican St &amp; Westlake Ave N</td>
      <td>34</td>
    </tr>
    <tr>
      <th>24</th>
      <td>CBD-07</td>
      <td>City Hall / 4th Ave &amp; James St</td>
      <td>33</td>
    </tr>
    <tr>
      <th>25</th>
      <td>DPD-01</td>
      <td>9th Ave N &amp; Mercer St</td>
      <td>33</td>
    </tr>
    <tr>
      <th>26</th>
      <td>FH-04</td>
      <td>Seattle University / E Columbia St &amp; 12th Ave</td>
      <td>32</td>
    </tr>
    <tr>
      <th>27</th>
      <td>BT-03</td>
      <td>2nd Ave &amp; Vine St</td>
      <td>32</td>
    </tr>
    <tr>
      <th>28</th>
      <td>BT-01</td>
      <td>3rd Ave &amp; Broad St</td>
      <td>31</td>
    </tr>
    <tr>
      <th>29</th>
      <td>CBD-05</td>
      <td>1st Ave &amp; Marion St</td>
      <td>29</td>
    </tr>
    <tr>
      <th>30</th>
      <td>SLU-02</td>
      <td>Dexter Ave N &amp; Aloha St</td>
      <td>29</td>
    </tr>
    <tr>
      <th>31</th>
      <td>SLU-19</td>
      <td>Key Arena / 1st Ave N &amp; Harrison St</td>
      <td>29</td>
    </tr>
    <tr>
      <th>32</th>
      <td>PS-05</td>
      <td>King Street Station Plaza / 2nd Ave Extension ...</td>
      <td>28</td>
    </tr>
    <tr>
      <th>33</th>
      <td>PS-04</td>
      <td>Occidental Park / Occidental Ave S &amp; S Washing...</td>
      <td>28</td>
    </tr>
    <tr>
      <th>34</th>
      <td>EL-03</td>
      <td>E Blaine St &amp; Fairview Ave E</td>
      <td>27</td>
    </tr>
    <tr>
      <th>35</th>
      <td>ID-04</td>
      <td>6th Ave S &amp; S King St</td>
      <td>27</td>
    </tr>
    <tr>
      <th>36</th>
      <td>SLU-17</td>
      <td>Lake Union Park / Valley St &amp; Boren Ave N</td>
      <td>26</td>
    </tr>
    <tr>
      <th>37</th>
      <td>EL-01</td>
      <td>Fred Hutchinson Cancer Research Center / Fairv...</td>
      <td>25</td>
    </tr>
    <tr>
      <th>38</th>
      <td>CD-01</td>
      <td>12th Ave &amp; E Yesler Way</td>
      <td>23</td>
    </tr>
    <tr>
      <th>39</th>
      <td>WF-01</td>
      <td>Pier 69 / Alaskan Way &amp; Clay St</td>
      <td>23</td>
    </tr>
    <tr>
      <th>40</th>
      <td>WF-04</td>
      <td>Seattle Aquarium / Alaskan Way S &amp; Elliott Bay...</td>
      <td>19</td>
    </tr>
    <tr>
      <th>41</th>
      <td>EL-05</td>
      <td>Eastlake Ave E &amp; E Allison St</td>
      <td>18</td>
    </tr>
    <tr>
      <th>42</th>
      <td>UD-02</td>
      <td>NE 42nd St &amp; University Way NE</td>
      <td>16</td>
    </tr>
    <tr>
      <th>43</th>
      <td>UW-04</td>
      <td>15th Ave NE &amp; NE 40th St</td>
      <td>14</td>
    </tr>
    <tr>
      <th>44</th>
      <td>UD-04</td>
      <td>12th Ave &amp; NE Campus Pkwy</td>
      <td>14</td>
    </tr>
    <tr>
      <th>45</th>
      <td>UW-02</td>
      <td>Burke Museum / E Stevens Way NE &amp; Memorial Way NE</td>
      <td>13</td>
    </tr>
    <tr>
      <th>46</th>
      <td>SLU-21</td>
      <td>Mercer St &amp; 9th Ave N</td>
      <td>13</td>
    </tr>
    <tr>
      <th>47</th>
      <td>UD-07</td>
      <td>NE 47th St &amp; 12th Ave NE</td>
      <td>13</td>
    </tr>
    <tr>
      <th>48</th>
      <td>UW-10</td>
      <td>UW Magnuson Health Sciences Center Rotunda / C...</td>
      <td>12</td>
    </tr>
    <tr>
      <th>49</th>
      <td>UW-07</td>
      <td>UW Intramural Activities Building</td>
      <td>11</td>
    </tr>
    <tr>
      <th>50</th>
      <td>UW-06</td>
      <td>UW Engineering Library / E Stevens Way NE &amp; Je...</td>
      <td>11</td>
    </tr>
    <tr>
      <th>51</th>
      <td>UD-01</td>
      <td>Burke-Gilman Trail / NE Blakeley St &amp; 24th Ave NE</td>
      <td>11</td>
    </tr>
    <tr>
      <th>52</th>
      <td>UW-01</td>
      <td>UW McCarty Hall / Whitman Ct</td>
      <td>10</td>
    </tr>
    <tr>
      <th>53</th>
      <td>DPD-03</td>
      <td>Children's Hospital / Sandpoint Way NE &amp; 40th ...</td>
      <td>6</td>
    </tr>
    <tr>
      <th>54</th>
      <td>Pronto shop</td>
      <td>Pronto shop</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div></div></div></div><div title="click to expand output" class="btn btn-default output_collapsed" style="display: none;">. . .</div></div></div><div tabindex="2" class="cell text_cell unselected rendered"><div class="prompt input_prompt"></div><div class="inner_cell"><div class="ctb_hideshow"><div class="celltoolbar"></div></div><div class="input_area"><div class="CodeMirror cm-s-default CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 5.6001px; left: 5.60001px;"><textarea tabindex="0" spellcheck="false" autocapitalize="off" autocorrect="off" wrap="off" style="position: absolute; padding: 0px; width: 1px; height: 1em; outline: medium none;"></textarea></div><div style="bottom: 0px;" cm-not-content="true" class="CodeMirror-vscrollbar"><div style="min-width: 1px; height: 0px;"></div></div><div cm-not-content="true" class="CodeMirror-hscrollbar"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div cm-not-content="true" class="CodeMirror-scrollbar-filler"></div><div cm-not-content="true" class="CodeMirror-gutter-filler"></div><div draggable="true" tabindex="-1" class="CodeMirror-scroll"><div style="margin-left: 0px; padding-right: 0px; padding-bottom: 0px; margin-bottom: -15px; border-right-width: 15px; min-height: 113px;" class="CodeMirror-sizer"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: medium none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div style="left: 0px; top: 0px; height: 17px;" class="CodeMirror-cursor">&nbsp;</div></div><div class="CodeMirror-code"><pre class=" CodeMirror-line "><span>This shows that there are 10 stations that are reasonably well connected (40+ destinations).  The two busy waterfront stations actually only have a mediocre number of destinations (19 and 23).  The University stations have very low connectivity and Children's Hospital is an outlier at the edge of the network.</span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span>The graphs in the NACTO paper suggest that stations with 40 destinations could expect to have around 10-30 departures per day.  This can also be checked.</span></pre></div></div></div></div></div><div style="position: absolute; height: 15px; width: 1px; top: 113px;"></div><div style="display: none; height: 128px;" class="CodeMirror-gutters"></div></div></div></div><div tabindex="-1" class="text_cell_render rendered_html"><p>This
 shows that there are 10 stations that are reasonably well connected 
(40+ destinations).  The two busy waterfront stations actually only have
 a mediocre number of destinations (19 and 23).  The University stations
 have very low connectivity and Children's Hospital is an outlier at the
 edge of the network.</p>
<p>The graphs in the NACTO paper suggest that stations with 40 
destinations could expect to have around 10-30 departures per day.  This
 can also be checked.</p>
</div></div></div><div tabindex="2" class="cell code_cell unselected rendered"><div class="input"><div class="prompt input_prompt">In&nbsp;[17]:</div><div class="inner_cell"><div class="ctb_hideshow"><div class="celltoolbar"></div></div><div class="input_area"><div class="CodeMirror cm-s-ipython"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 5.6001px; left: 5.60001px;"><textarea tabindex="0" spellcheck="false" autocapitalize="off" autocorrect="off" wrap="off" style="position: absolute; padding: 0px; width: 1px; height: 1em; outline: medium none;"></textarea></div><div style="bottom: 0px;" cm-not-content="true" class="CodeMirror-vscrollbar"><div style="min-width: 1px; height: 0px;"></div></div><div cm-not-content="true" class="CodeMirror-hscrollbar"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div cm-not-content="true" class="CodeMirror-scrollbar-filler"></div><div cm-not-content="true" class="CodeMirror-gutter-filler"></div><div draggable="true" tabindex="-1" class="CodeMirror-scroll"><div style="margin-left: 0px; min-width: 779px; margin-bottom: -15px; border-right-width: 15px; min-height: 385px; padding-right: 0px; padding-bottom: 0px;" class="CodeMirror-sizer"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: medium none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div style="left: 0px; top: 0px; height: 17px;" class="CodeMirror-cursor">&nbsp;</div></div><div style="" class="CodeMirror-code"><pre class=" CodeMirror-line "><span><span class="cm-variable">departures_per_day_sql</span> = <span class="cm-string">"""</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-string">    SELECT from_station_id as station_id, count(*)/365 as departures</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-string">    FROM trips</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-string">    GROUP BY from_station_id</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-string">    ORDER BY departures DESC</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-string">"""</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable">arrivals_per_day_sql</span> = <span class="cm-string">"""</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-string">    SELECT to_station_id as station_id, count(*)/365 as arrivals</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-string">    FROM trips</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-string">    GROUP BY to_station_id</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-string">    ORDER BY arrivals DESC</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-string">"""</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable">departures_df</span> = <span class="cm-variable">sqlContext</span>.<span class="cm-variable">sql</span>(<span class="cm-variable">departures_per_day_sql</span>).<span class="cm-variable">toPandas</span>()</span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable">arrivals_df</span> = <span class="cm-variable">sqlContext</span>.<span class="cm-variable">sql</span>(<span class="cm-variable">arrivals_per_day_sql</span>).<span class="cm-variable">toPandas</span>()</span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable">n_trips_df</span> = <span class="cm-variable">arrivals_df</span>.<span class="cm-variable">merge</span>(<span class="cm-variable">departures_df</span>).<span class="cm-variable">merge</span>(<span class="cm-variable">n_destinations_df</span>)</span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable">n_trips_df</span>.<span class="cm-variable">loc</span>[:,<span class="cm-string">'trips_to_from'</span>] = <span class="cm-variable">n_trips_df</span>.<span class="cm-variable">loc</span>[:,<span class="cm-string">'arrivals'</span>] <span class="cm-operator">+</span> <span class="cm-variable">n_trips_df</span>.<span class="cm-variable">loc</span>[:,<span class="cm-string">'departures'</span>]</span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-comment"># merge in region, stations_per_region and region color</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable">n_trips_df</span>.<span class="cm-variable">loc</span>[:,<span class="cm-string">'region'</span>] = <span class="cm-variable">n_trips_df</span>.<span class="cm-variable">loc</span>[:,<span class="cm-string">'station_id'</span>].<span class="cm-builtin">map</span>(<span class="cm-keyword">lambda</span> <span class="cm-variable">r</span>: <span class="cm-builtin">str</span>(<span class="cm-variable">r</span>).<span class="cm-variable">split</span>(<span class="cm-string">'-'</span>)[<span class="cm-number">0</span>])</span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable">n_trips_df</span> = <span class="cm-variable">n_trips_df</span>.<span class="cm-variable">merge</span>(<span class="cm-variable">stations_per_region</span>.<span class="cm-variable">loc</span>[:,[<span class="cm-string">'region'</span>,<span class="cm-string">'color'</span>]], <span class="cm-variable">on</span>=<span class="cm-string">'region'</span>)</span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable">n_trips_df</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 15px; width: 1px; top: 385px;"></div><div style="display: none; height: 400px;" class="CodeMirror-gutters"></div></div></div></div></div></div><div style="display: none;" class="widget-area"><div class="prompt"><button class="close">×</button></div><div class="widget-subarea"></div></div><div class="output_wrapper"><div title="click to expand output; double click to hide output" class="out_prompt_overlay prompt" style=""></div><div style="" class="output"><div class="output_area"><div class="prompt output_prompt">Out[17]:</div><div class="output_subarea output_html rendered_html output_result"><div>
<table class="dataframe" border="1">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>station_id</th>
      <th>arrivals</th>
      <th>departures</th>
      <th>station_name</th>
      <th>destinations</th>
      <th>trips_to_from</th>
      <th>region</th>
      <th>color</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>WF-01</td>
      <td>19.758904</td>
      <td>18.471233</td>
      <td>Pier 69 / Alaskan Way &amp; Clay St</td>
      <td>23</td>
      <td>38.230137</td>
      <td>WF</td>
      <td>#7F7B14</td>
    </tr>
    <tr>
      <th>1</th>
      <td>WF-04</td>
      <td>12.106849</td>
      <td>8.660274</td>
      <td>Seattle Aquarium / Alaskan Way S &amp; Elliott Bay...</td>
      <td>19</td>
      <td>20.767123</td>
      <td>WF</td>
      <td>#7F7B14</td>
    </tr>
    <tr>
      <th>2</th>
      <td>CBD-13</td>
      <td>19.695890</td>
      <td>14.753425</td>
      <td>2nd Ave &amp; Pine St</td>
      <td>39</td>
      <td>34.449315</td>
      <td>CBD</td>
      <td>#E861ED</td>
    </tr>
    <tr>
      <th>3</th>
      <td>CBD-06</td>
      <td>12.512329</td>
      <td>8.246575</td>
      <td>2nd Ave &amp; Spring St</td>
      <td>37</td>
      <td>20.758904</td>
      <td>CBD</td>
      <td>#E861ED</td>
    </tr>
    <tr>
      <th>4</th>
      <td>CBD-05</td>
      <td>11.241096</td>
      <td>7.936986</td>
      <td>1st Ave &amp; Marion St</td>
      <td>29</td>
      <td>19.178082</td>
      <td>CBD</td>
      <td>#E861ED</td>
    </tr>
    <tr>
      <th>5</th>
      <td>CBD-03</td>
      <td>10.846575</td>
      <td>8.147945</td>
      <td>7th Ave &amp; Union St</td>
      <td>40</td>
      <td>18.994521</td>
      <td>CBD</td>
      <td>#E861ED</td>
    </tr>
    <tr>
      <th>6</th>
      <td>CBD-07</td>
      <td>5.295890</td>
      <td>5.035616</td>
      <td>City Hall / 4th Ave &amp; James St</td>
      <td>33</td>
      <td>10.331507</td>
      <td>CBD</td>
      <td>#E861ED</td>
    </tr>
    <tr>
      <th>7</th>
      <td>CBD-04</td>
      <td>1.791781</td>
      <td>1.890411</td>
      <td>Union St &amp; 4th Ave</td>
      <td>35</td>
      <td>3.682192</td>
      <td>CBD</td>
      <td>#E861ED</td>
    </tr>
    <tr>
      <th>8</th>
      <td>BT-01</td>
      <td>15.890411</td>
      <td>16.123288</td>
      <td>3rd Ave &amp; Broad St</td>
      <td>31</td>
      <td>32.013699</td>
      <td>BT</td>
      <td>#A8C00D</td>
    </tr>
    <tr>
      <th>9</th>
      <td>BT-05</td>
      <td>9.476712</td>
      <td>9.227397</td>
      <td>2nd Ave &amp; Blanchard St</td>
      <td>36</td>
      <td>18.704110</td>
      <td>BT</td>
      <td>#A8C00D</td>
    </tr>
    <tr>
      <th>10</th>
      <td>BT-03</td>
      <td>9.276712</td>
      <td>11.504110</td>
      <td>2nd Ave &amp; Vine St</td>
      <td>32</td>
      <td>20.780822</td>
      <td>BT</td>
      <td>#A8C00D</td>
    </tr>
    <tr>
      <th>11</th>
      <td>BT-04</td>
      <td>5.084932</td>
      <td>6.084932</td>
      <td>6th Ave &amp; Blanchard St</td>
      <td>35</td>
      <td>11.169863</td>
      <td>BT</td>
      <td>#A8C00D</td>
    </tr>
    <tr>
      <th>12</th>
      <td>SLU-07</td>
      <td>14.767123</td>
      <td>10.213699</td>
      <td>PATH / 9th Ave &amp; Westlake Ave</td>
      <td>38</td>
      <td>24.980822</td>
      <td>SLU</td>
      <td>#1D487F</td>
    </tr>
    <tr>
      <th>13</th>
      <td>SLU-15</td>
      <td>14.597260</td>
      <td>13.715068</td>
      <td>Westlake Ave &amp; 6th Ave</td>
      <td>39</td>
      <td>28.312329</td>
      <td>SLU</td>
      <td>#1D487F</td>
    </tr>
    <tr>
      <th>14</th>
      <td>SLU-16</td>
      <td>13.265753</td>
      <td>9.624658</td>
      <td>Pine St &amp; 9th Ave</td>
      <td>40</td>
      <td>22.890411</td>
      <td>SLU</td>
      <td>#1D487F</td>
    </tr>
    <tr>
      <th>15</th>
      <td>SLU-04</td>
      <td>12.821918</td>
      <td>8.279452</td>
      <td>Republican St &amp; Westlake Ave N</td>
      <td>34</td>
      <td>21.101370</td>
      <td>SLU</td>
      <td>#1D487F</td>
    </tr>
    <tr>
      <th>16</th>
      <td>SLU-01</td>
      <td>12.079452</td>
      <td>12.194521</td>
      <td>REI / Yale Ave N &amp; John St</td>
      <td>42</td>
      <td>24.273973</td>
      <td>SLU</td>
      <td>#1D487F</td>
    </tr>
    <tr>
      <th>17</th>
      <td>SLU-19</td>
      <td>11.235616</td>
      <td>10.315068</td>
      <td>Key Arena / 1st Ave N &amp; Harrison St</td>
      <td>29</td>
      <td>21.550685</td>
      <td>SLU</td>
      <td>#1D487F</td>
    </tr>
    <tr>
      <th>18</th>
      <td>SLU-02</td>
      <td>9.830137</td>
      <td>8.972603</td>
      <td>Dexter Ave N &amp; Aloha St</td>
      <td>29</td>
      <td>18.802740</td>
      <td>SLU</td>
      <td>#1D487F</td>
    </tr>
    <tr>
      <th>19</th>
      <td>SLU-17</td>
      <td>8.849315</td>
      <td>8.243836</td>
      <td>Lake Union Park / Valley St &amp; Boren Ave N</td>
      <td>26</td>
      <td>17.093151</td>
      <td>SLU</td>
      <td>#1D487F</td>
    </tr>
    <tr>
      <th>20</th>
      <td>SLU-18</td>
      <td>5.610959</td>
      <td>7.038356</td>
      <td>Dexter Ave &amp; Denny Way</td>
      <td>34</td>
      <td>12.649315</td>
      <td>SLU</td>
      <td>#1D487F</td>
    </tr>
    <tr>
      <th>21</th>
      <td>SLU-20</td>
      <td>2.945205</td>
      <td>2.704110</td>
      <td>Terry Ave &amp; Stewart St</td>
      <td>37</td>
      <td>5.649315</td>
      <td>SLU</td>
      <td>#1D487F</td>
    </tr>
    <tr>
      <th>22</th>
      <td>SLU-21</td>
      <td>0.150685</td>
      <td>0.213699</td>
      <td>Mercer St &amp; 9th Ave N</td>
      <td>13</td>
      <td>0.364384</td>
      <td>SLU</td>
      <td>#1D487F</td>
    </tr>
    <tr>
      <th>23</th>
      <td>PS-04</td>
      <td>12.928767</td>
      <td>7.701370</td>
      <td>Occidental Park / Occidental Ave S &amp; S Washing...</td>
      <td>28</td>
      <td>20.630137</td>
      <td>PS</td>
      <td>#C1F771</td>
    </tr>
    <tr>
      <th>24</th>
      <td>PS-05</td>
      <td>9.183562</td>
      <td>5.235616</td>
      <td>King Street Station Plaza / 2nd Ave Extension ...</td>
      <td>28</td>
      <td>14.419178</td>
      <td>PS</td>
      <td>#C1F771</td>
    </tr>
    <tr>
      <th>25</th>
      <td>DPD-01</td>
      <td>9.446575</td>
      <td>7.002740</td>
      <td>9th Ave N &amp; Mercer St</td>
      <td>33</td>
      <td>16.449315</td>
      <td>DPD</td>
      <td>#D84B0A</td>
    </tr>
    <tr>
      <th>26</th>
      <td>DPD-03</td>
      <td>2.054795</td>
      <td>2.287671</td>
      <td>Children's Hospital / Sandpoint Way NE &amp; 40th ...</td>
      <td>6</td>
      <td>4.342466</td>
      <td>DPD</td>
      <td>#D84B0A</td>
    </tr>
    <tr>
      <th>27</th>
      <td>EL-03</td>
      <td>9.389041</td>
      <td>7.293151</td>
      <td>E Blaine St &amp; Fairview Ave E</td>
      <td>27</td>
      <td>16.682192</td>
      <td>EL</td>
      <td>#ED8E33</td>
    </tr>
    <tr>
      <th>28</th>
      <td>EL-05</td>
      <td>6.621918</td>
      <td>5.389041</td>
      <td>Eastlake Ave E &amp; E Allison St</td>
      <td>18</td>
      <td>12.010959</td>
      <td>EL</td>
      <td>#ED8E33</td>
    </tr>
    <tr>
      <th>29</th>
      <td>EL-01</td>
      <td>5.709589</td>
      <td>5.208219</td>
      <td>Fred Hutchinson Cancer Research Center / Fairv...</td>
      <td>25</td>
      <td>10.917808</td>
      <td>EL</td>
      <td>#ED8E33</td>
    </tr>
    <tr>
      <th>30</th>
      <td>CH-08</td>
      <td>8.284932</td>
      <td>13.367123</td>
      <td>Cal Anderson Park / 11th Ave &amp; Pine St</td>
      <td>42</td>
      <td>21.652055</td>
      <td>CH</td>
      <td>#D64025</td>
    </tr>
    <tr>
      <th>31</th>
      <td>CH-02</td>
      <td>8.172603</td>
      <td>13.123288</td>
      <td>E Harrison St &amp; Broadway Ave E</td>
      <td>43</td>
      <td>21.295890</td>
      <td>CH</td>
      <td>#D64025</td>
    </tr>
    <tr>
      <th>32</th>
      <td>CH-09</td>
      <td>5.254795</td>
      <td>8.016438</td>
      <td>Harvard Ave &amp; E Pine St</td>
      <td>39</td>
      <td>13.271233</td>
      <td>CH</td>
      <td>#D64025</td>
    </tr>
    <tr>
      <th>33</th>
      <td>CH-03</td>
      <td>5.208219</td>
      <td>8.660274</td>
      <td>Summit Ave E &amp; E Republican St</td>
      <td>43</td>
      <td>13.868493</td>
      <td>CH</td>
      <td>#D64025</td>
    </tr>
    <tr>
      <th>34</th>
      <td>CH-12</td>
      <td>5.153425</td>
      <td>7.021918</td>
      <td>Bellevue Ave &amp; E Pine St</td>
      <td>41</td>
      <td>12.175342</td>
      <td>CH</td>
      <td>#D64025</td>
    </tr>
    <tr>
      <th>35</th>
      <td>CH-01</td>
      <td>5.087671</td>
      <td>8.863014</td>
      <td>Summit Ave &amp; E Denny Way</td>
      <td>42</td>
      <td>13.950685</td>
      <td>CH</td>
      <td>#D64025</td>
    </tr>
    <tr>
      <th>36</th>
      <td>CH-07</td>
      <td>4.539726</td>
      <td>14.219178</td>
      <td>E Pine St &amp; 16th Ave</td>
      <td>41</td>
      <td>18.758904</td>
      <td>CH</td>
      <td>#D64025</td>
    </tr>
    <tr>
      <th>37</th>
      <td>CH-05</td>
      <td>3.356164</td>
      <td>10.347945</td>
      <td>15th Ave E &amp; E Thomas St</td>
      <td>44</td>
      <td>13.704110</td>
      <td>CH</td>
      <td>#D64025</td>
    </tr>
    <tr>
      <th>38</th>
      <td>CH-15</td>
      <td>3.183562</td>
      <td>7.778082</td>
      <td>12th Ave &amp; E Mercer St</td>
      <td>42</td>
      <td>10.961644</td>
      <td>CH</td>
      <td>#D64025</td>
    </tr>
    <tr>
      <th>39</th>
      <td>CH-06</td>
      <td>1.775342</td>
      <td>4.575342</td>
      <td>12th Ave &amp; E Denny Way</td>
      <td>39</td>
      <td>6.350685</td>
      <td>CH</td>
      <td>#D64025</td>
    </tr>
    <tr>
      <th>40</th>
      <td>UD-04</td>
      <td>6.476712</td>
      <td>5.216438</td>
      <td>12th Ave &amp; NE Campus Pkwy</td>
      <td>14</td>
      <td>11.693151</td>
      <td>UD</td>
      <td>#C9BE53</td>
    </tr>
    <tr>
      <th>41</th>
      <td>UD-01</td>
      <td>5.745205</td>
      <td>4.841096</td>
      <td>Burke-Gilman Trail / NE Blakeley St &amp; 24th Ave NE</td>
      <td>11</td>
      <td>10.586301</td>
      <td>UD</td>
      <td>#C9BE53</td>
    </tr>
    <tr>
      <th>42</th>
      <td>UD-07</td>
      <td>2.693151</td>
      <td>3.523288</td>
      <td>NE 47th St &amp; 12th Ave NE</td>
      <td>13</td>
      <td>6.216438</td>
      <td>UD</td>
      <td>#C9BE53</td>
    </tr>
    <tr>
      <th>43</th>
      <td>UD-02</td>
      <td>1.739726</td>
      <td>1.726027</td>
      <td>NE 42nd St &amp; University Way NE</td>
      <td>16</td>
      <td>3.465753</td>
      <td>UD</td>
      <td>#C9BE53</td>
    </tr>
    <tr>
      <th>44</th>
      <td>ID-04</td>
      <td>6.369863</td>
      <td>4.010959</td>
      <td>6th Ave S &amp; S King St</td>
      <td>27</td>
      <td>10.380822</td>
      <td>ID</td>
      <td>#3A949E</td>
    </tr>
    <tr>
      <th>45</th>
      <td>UW-04</td>
      <td>4.205479</td>
      <td>3.761644</td>
      <td>15th Ave NE &amp; NE 40th St</td>
      <td>14</td>
      <td>7.967123</td>
      <td>UW</td>
      <td>#7557AA</td>
    </tr>
    <tr>
      <th>46</th>
      <td>UW-06</td>
      <td>3.468493</td>
      <td>3.758904</td>
      <td>UW Engineering Library / E Stevens Way NE &amp; Je...</td>
      <td>11</td>
      <td>7.227397</td>
      <td>UW</td>
      <td>#7557AA</td>
    </tr>
    <tr>
      <th>47</th>
      <td>UW-10</td>
      <td>3.153425</td>
      <td>2.304110</td>
      <td>UW Magnuson Health Sciences Center Rotunda / C...</td>
      <td>12</td>
      <td>5.457534</td>
      <td>UW</td>
      <td>#7557AA</td>
    </tr>
    <tr>
      <th>48</th>
      <td>UW-07</td>
      <td>2.769863</td>
      <td>2.394521</td>
      <td>UW Intramural Activities Building</td>
      <td>11</td>
      <td>5.164384</td>
      <td>UW</td>
      <td>#7557AA</td>
    </tr>
    <tr>
      <th>49</th>
      <td>UW-02</td>
      <td>2.030137</td>
      <td>2.972603</td>
      <td>Burke Museum / E Stevens Way NE &amp; Memorial Way NE</td>
      <td>13</td>
      <td>5.002740</td>
      <td>UW</td>
      <td>#7557AA</td>
    </tr>
    <tr>
      <th>50</th>
      <td>UW-01</td>
      <td>1.216438</td>
      <td>1.301370</td>
      <td>UW McCarty Hall / Whitman Ct</td>
      <td>10</td>
      <td>2.517808</td>
      <td>UW</td>
      <td>#7557AA</td>
    </tr>
    <tr>
      <th>51</th>
      <td>FH-04</td>
      <td>3.758904</td>
      <td>5.104110</td>
      <td>Seattle University / E Columbia St &amp; 12th Ave</td>
      <td>32</td>
      <td>8.863014</td>
      <td>FH</td>
      <td>#B318E2</td>
    </tr>
    <tr>
      <th>52</th>
      <td>FH-01</td>
      <td>2.101370</td>
      <td>5.547945</td>
      <td>Frye Art Museum / Terry Ave &amp; Columbia St</td>
      <td>36</td>
      <td>7.649315</td>
      <td>FH</td>
      <td>#B318E2</td>
    </tr>
    <tr>
      <th>53</th>
      <td>CD-01</td>
      <td>1.112329</td>
      <td>1.205479</td>
      <td>12th Ave &amp; E Yesler Way</td>
      <td>23</td>
      <td>2.317808</td>
      <td>CD</td>
      <td>#CB3C65</td>
    </tr>
  </tbody>
</table>
</div></div></div></div><div title="click to expand output" class="btn btn-default output_collapsed" style="display: none;">. . .</div></div></div><div tabindex="2" class="cell code_cell unselected rendered"><div class="input"><div class="prompt input_prompt">In&nbsp;[18]:</div><div class="inner_cell"><div class="ctb_hideshow"><div class="celltoolbar"></div></div><div class="input_area"><div class="CodeMirror cm-s-ipython"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 5.60059px; left: 5.60001px;"><textarea tabindex="0" spellcheck="false" autocapitalize="off" autocorrect="off" wrap="off" style="position: absolute; padding: 0px; width: 1px; height: 1em; outline: medium none;"></textarea></div><div style="bottom: 0px;" cm-not-content="true" class="CodeMirror-vscrollbar"><div style="min-width: 1px; height: 0px;"></div></div><div cm-not-content="true" class="CodeMirror-hscrollbar"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div cm-not-content="true" class="CodeMirror-scrollbar-filler"></div><div cm-not-content="true" class="CodeMirror-gutter-filler"></div><div draggable="true" tabindex="-1" class="CodeMirror-scroll"><div style="margin-left: 0px; min-width: 491px; margin-bottom: -15px; border-right-width: 15px; min-height: 266px; padding-right: 0px; padding-bottom: 0px;" class="CodeMirror-sizer"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: medium none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div style="left: 0px; top: 0px; height: 17px;" class="CodeMirror-cursor">&nbsp;</div></div><div style="" class="CodeMirror-code"><pre class=" CodeMirror-line "><span><span class="cm-operator">%</span><span class="cm-variable">matplotlib</span> <span class="cm-variable">inline</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-keyword">import</span> <span class="cm-variable">matplotlib</span>.<span class="cm-variable">pyplot</span> <span class="cm-keyword">as</span> <span class="cm-variable">plt</span></span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable">_</span>, <span class="cm-variable">rides</span> = <span class="cm-variable">plt</span>.<span class="cm-variable">subplots</span>()</span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable">rides</span>.<span class="cm-variable">grid</span>(<span class="cm-variable">color</span>=<span class="cm-string">'grey'</span>,</span></pre><pre class=" CodeMirror-line "><span>           <span class="cm-variable">linestyle</span>=<span class="cm-string">'dotted'</span>)</span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable">scatter</span> = <span class="cm-variable">rides</span>.<span class="cm-variable">scatter</span>(<span class="cm-variable">n_trips_df</span>.<span class="cm-variable">loc</span>[:,<span class="cm-string">'destinations'</span>],</span></pre><pre class=" CodeMirror-line "><span>                        <span class="cm-variable">n_trips_df</span>.<span class="cm-variable">loc</span>[:,<span class="cm-string">'trips_to_from'</span>],</span></pre><pre class=" CodeMirror-line "><span>                        <span class="cm-variable">c</span>=<span class="cm-variable">n_trips_df</span>.<span class="cm-variable">loc</span>[:,<span class="cm-string">'color'</span>],</span></pre><pre class=" CodeMirror-line "><span>                        <span class="cm-variable">s</span> = <span class="cm-variable">n_trips_df</span>.<span class="cm-variable">loc</span>[:,<span class="cm-string">'destinations'</span>])</span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable">rides</span>.<span class="cm-variable">set_xlabel</span>(<span class="cm-string">'other docks within 15 minute ride'</span>)</span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable">rides</span>.<span class="cm-variable">set_ylabel</span>(<span class="cm-string">'rides per day to/from dock'</span>)</span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable">rides</span>.<span class="cm-variable">set_title</span>(<span class="cm-string">"15 Minute Rides"</span>, <span class="cm-variable">size</span>=<span class="cm-number">14</span>);</span></pre></div></div></div></div></div><div style="position: absolute; height: 15px; width: 1px; top: 266px;"></div><div style="display: none; height: 281px;" class="CodeMirror-gutters"></div></div></div></div></div></div><div style="display: none;" class="widget-area"><div class="prompt"><button class="close">×</button></div><div class="widget-subarea"></div></div><div class="output_wrapper"><div title="click to expand output; double click to hide output" class="out_prompt_overlay prompt" style=""></div><div style="" class="output"><div class="output_area"><div class="prompt"></div><div class="output_subarea output_png"><img src="data:image/png;base64,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%0A"></div></div></div><div title="click to expand output" class="btn btn-default output_collapsed" style="display: none;">. . .</div></div></div><div tabindex="2" class="cell text_cell unselected rendered"><div class="prompt input_prompt"></div><div class="inner_cell"><div class="ctb_hideshow"><div class="celltoolbar"></div></div><div class="input_area"><div class="CodeMirror cm-s-default CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 5.59961px; left: 5.60001px;"><textarea tabindex="0" spellcheck="false" autocapitalize="off" autocorrect="off" wrap="off" style="position: absolute; padding: 0px; width: 1px; height: 1em; outline: medium none;"></textarea></div><div style="bottom: 0px;" cm-not-content="true" class="CodeMirror-vscrollbar"><div style="min-width: 1px; height: 0px;"></div></div><div cm-not-content="true" class="CodeMirror-hscrollbar"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div cm-not-content="true" class="CodeMirror-scrollbar-filler"></div><div cm-not-content="true" class="CodeMirror-gutter-filler"></div><div draggable="true" tabindex="-1" class="CodeMirror-scroll"><div style="margin-left: 0px; padding-right: 0px; padding-bottom: 0px; margin-bottom: -15px; border-right-width: 15px; min-height: 147px;" class="CodeMirror-sizer"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: medium none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div style="left: 0px; top: 0px; height: 17px;" class="CodeMirror-cursor">&nbsp;</div></div><div class="CodeMirror-code"><pre class=" CodeMirror-line "><span>This plot looks similar to the plots in the NACTO paper.  The stations with the most destinations have between 10 and 30 rides per day.  The more remote stations appear to have fewer rides.  Because this notebook did not correct for stations that were added during the year, a few stations such as the new station at 9th and Mercer do not have an accurate rides per day number. </span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span>Note also that the region colors in this plot do not correspond to the colors in the chord chart above, and there is no color/region key.  Still it is possible to see that the different regions have slightly different usage characteristics beyond station density and region size.</span></pre></div></div></div></div></div><div style="position: absolute; height: 15px; width: 1px; top: 147px;"></div><div style="display: none; height: 162px;" class="CodeMirror-gutters"></div></div></div></div><div tabindex="-1" class="text_cell_render rendered_html"><p>This
 plot looks similar to the plots in the NACTO paper.  The stations with 
the most destinations have between 10 and 30 rides per day.  The more 
remote stations appear to have fewer rides.  Because this notebook did 
not correct for stations that were added during the year, a few stations
 such as the new station at 9th and Mercer do not have an accurate rides
 per day number. </p>
<p>Note also that the region colors in this plot do not correspond to 
the colors in the chord chart above, and there is no color/region key.  
Still it is possible to see that the different regions have slightly 
different usage characteristics beyond station density and region size.</p>
</div></div></div><div tabindex="2" class="cell text_cell unselected rendered"><div class="prompt input_prompt"></div><div class="inner_cell"><div class="ctb_hideshow"><div class="celltoolbar"></div></div><div class="input_area"><div class="CodeMirror cm-s-default CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 5.59961px; left: 5.60001px;"><textarea tabindex="0" spellcheck="false" autocapitalize="off" autocorrect="off" wrap="off" style="position: absolute; padding: 0px; width: 1px; height: 1em; outline: medium none;"></textarea></div><div style="bottom: 0px;" cm-not-content="true" class="CodeMirror-vscrollbar"><div style="min-width: 1px; height: 0px;"></div></div><div cm-not-content="true" class="CodeMirror-hscrollbar"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div cm-not-content="true" class="CodeMirror-scrollbar-filler"></div><div cm-not-content="true" class="CodeMirror-gutter-filler"></div><div draggable="true" tabindex="-1" class="CodeMirror-scroll"><div style="margin-left: 0px; padding-right: 0px; padding-bottom: 0px; margin-bottom: -15px; border-right-width: 15px; min-height: 286px;" class="CodeMirror-sizer"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: medium none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div style="left: 0px; top: 0px; height: 20px;" class="CodeMirror-cursor">&nbsp;</div></div><div style="" class="CodeMirror-code"><pre class=" CodeMirror-line "><span><span class="cm-header cm-header-2">## Conclusions and Next Steps</span></span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span>This notebook is intended to provides some quick insight into Pronto performance after a year of operation and toin demonstrate some useful technologies for continuing investigation.</span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span>The inter-region trip chart seems to show that there is some fragmentation and hill effects in the network, but they are not out of scale when compared to intra-region trips in the larger regions and the well-connected central business district, Belltown and even pioneer square regions.</span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span>The 15 minute rides chart shows that our network has similar performance to other bike share systems, but with the caveat that less dense and peripheral stations do not have enough destinations see high usage.</span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span>The Pandas, Spark and D3 libraries make it easy to manipulate and visualize this data.  Similar charts can be generated by demographics, time of day or year with slight modifications to the query.  It would be interesting to see the charts with automated region clusters rather than the region labels from the station table.</span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 15px; width: 1px; top: 286px;"></div><div style="display: none; height: 301px;" class="CodeMirror-gutters"></div></div></div></div><div tabindex="-1" class="text_cell_render rendered_html"><h2 id="Conclusions-and-Next-Steps">Conclusions and Next Steps<a href="#Conclusions-and-Next-Steps" class="anchor-link">¶</a></h2>
<p>This notebook is intended to provides some quick insight into Pronto 
performance after a year of operation and toin demonstrate some useful 
technologies for continuing investigation.</p>
<p>The inter-region trip chart seems to show that there is some 
fragmentation and hill effects in the network, but they are not out of 
scale when compared to intra-region trips in the larger regions and the 
well-connected central business district, Belltown and even pioneer 
square regions.</p>
<p>The 15 minute rides chart shows that our network has similar 
performance to other bike share systems, but with the caveat that less 
dense and peripheral stations do not have enough destinations see high 
usage.</p>
<p>The Pandas, Spark and D3 libraries make it easy to manipulate and 
visualize this data.  Similar charts can be generated by demographics, 
time of day or year with slight modifications to the query.  It would be
 interesting to see the charts with automated region clusters rather 
than the region labels from the station table.</p>
</div></div></div></div><div class="end_space"></div></div>
        <div id="tooltip" class="ipython_tooltip" style="display:none"><div class="tooltipbuttons"><a class="ui-button" role="button" href="#"><span class="ui-icon ui-icon-close">Close</span></a><a title="Grow the tooltip vertically (press shift-tab twice)" id="expanbutton" role="button" class="ui-corner-all" href="#"><span class="ui-icon ui-icon-plus">Expand</span></a><a title="show the current docstring in pager (press shift-tab 4 times)" class="ui-button" role="button" href="#"><span class="ui-icon ui-icon-arrowstop-l-n">Open in Pager</span></a><a style="display: none;" title="Tooltip will linger for 10 seconds while you type" class="ui-button" role="button" href="#"><span class="ui-icon ui-icon-clock">Close</span></a></div><div class="pretooltiparrow"></div><div class="tooltiptext smalltooltip"></div></div>
    </div>
</div>



</div>



<div class="ui-resizable" id="pager">
    <div id="pager-contents">
        <div id="pager-container" class="container"></div>
    </div>
    <div id="pager-button-area"><a class="ui-button" title="Open the pager in an external window" role="button"><span class="ui-icon ui-icon-extlink"></span></a><a class="ui-button" title="Close the pager" role="button"><span class="ui-icon ui-icon-close"></span></a></div>
<div style="z-index: 90;" class="ui-resizable-handle ui-resizable-n"></div></div>






<script type="text/javascript">
    sys_info = {"os_name": "posix", "platform": "Linux-2.6.32-358.23.2.el6.x86_64-x86_64-with-centos-6.4-Final", "default_encoding": "UTF-8", "notebook_path": "/home/timf/.local/lib/python2.7/site-packages/notebook", "sys_platform": "linux2", "sys_version": "2.7.10 |Anaconda 2.3.0 (64-bit)| (default, May 28 2015, 17:02:03) \n[GCC 4.4.7 20120313 (Red Hat 4.4.7-1)]", "notebook_version": "4.0.4", "commit_source": "", "commit_hash": "", "sys_executable": "/home/timf/anaconda/bin/python"};
</script>

<script src="Pronto.ipynb_files/encoding.js" charset="utf-8"></script>

<script src="Pronto.ipynb_files/main.js" charset="utf-8"></script>





<div style="position: absolute; width: 0px; height: 0px; overflow: hidden; padding: 0px; border: 0px none; margin: 0px;"><div style="position: absolute; visibility: hidden; top: 0px; left: 0px; width: auto; padding: 0px; border: 0px none; margin: 0px; white-space: nowrap; text-align: left; text-indent: 0px; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; font-size: 40px; font-weight: normal; font-style: normal; font-size-adjust: none;" id="MathJax_Font_Test"></div></div></body></html>